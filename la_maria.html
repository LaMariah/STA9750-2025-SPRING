<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="La Maria">
<meta name="dcterms.date" content="2025-05-01">

<title>STA 9750 Mini-Project #04: The Great Realignment - Analyzing the 2024 Electoral Shift</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="la_maria_files/libs/clipboard/clipboard.min.js"></script>
<script src="la_maria_files/libs/quarto-html/quarto.js"></script>
<script src="la_maria_files/libs/quarto-html/popper.min.js"></script>
<script src="la_maria_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="la_maria_files/libs/quarto-html/anchor.min.js"></script>
<link href="la_maria_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="la_maria_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="la_maria_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="la_maria_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="la_maria_files/libs/bootstrap/bootstrap-a1ff8711b79ae3724c050874b28d9907.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="la_maria_files/libs/kePrint-0.0.1/kePrint.js"></script>

<link href="la_maria_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">



</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#quick-facts-about-the-2024-election" id="toc-quick-facts-about-the-2024-election" class="nav-link" data-scroll-target="#quick-facts-about-the-2024-election">Quick Facts About the 2024 Election</a></li>
  </ul></li>
  <li><a href="#data-acquisition-and-processing" id="toc-data-acquisition-and-processing" class="nav-link" data-scroll-target="#data-acquisition-and-processing">Data Acquisition and Processing</a>
  <ul class="collapse">
  <li><a href="#task-1-us-county-shapefiles" id="toc-task-1-us-county-shapefiles" class="nav-link" data-scroll-target="#task-1-us-county-shapefiles">Task 1: US County Shapefiles</a></li>
  <li><a href="#task-2-3-acquire-2020-and-2024-us-presidential-election-results" id="toc-task-2-3-acquire-2020-and-2024-us-presidential-election-results" class="nav-link" data-scroll-target="#task-2-3-acquire-2020-and-2024-us-presidential-election-results">Task 2 &amp; 3: Acquire 2020 and 2024 US Presidential Election Results</a></li>
  <li><a href="#task-4-initial-analysis-findings" id="toc-task-4-initial-analysis-findings" class="nav-link" data-scroll-target="#task-4-initial-analysis-findings">Task 4: Initial Analysis Findings</a></li>
  <li><a href="#task-6-additional-analysis-and-statistical-testing" id="toc-task-6-additional-analysis-and-statistical-testing" class="nav-link" data-scroll-target="#task-6-additional-analysis-and-statistical-testing">Task 6: Additional Analysis and Statistical Testing</a></li>
  </ul></li>
  <li><a href="#republican-perspective-the-great-american-mandate" id="toc-republican-perspective-the-great-american-mandate" class="nav-link" data-scroll-target="#republican-perspective-the-great-american-mandate">Republican Perspective: The Great American Mandate</a>
  <ul class="collapse">
  <li><a href="#america-turns-red-89-of-counties-nationwide-moved-right" id="toc-america-turns-red-89-of-counties-nationwide-moved-right" class="nav-link" data-scroll-target="#america-turns-red-89-of-counties-nationwide-moved-right">AMERICA TURNS RED: 89% OF COUNTIES NATIONWIDE MOVED RIGHT</a></li>
  <li><a href="#the-shift-is-real-republican-gains-are-statistically-significant" id="toc-the-shift-is-real-republican-gains-are-statistically-significant" class="nav-link" data-scroll-target="#the-shift-is-real-republican-gains-are-statistically-significant">THE SHIFT IS REAL: REPUBLICAN GAINS ARE STATISTICALLY SIGNIFICANT</a></li>
  <li><a href="#the-democratic-firewall-crumbles-unprecedented-gains-in-urban-america" id="toc-the-democratic-firewall-crumbles-unprecedented-gains-in-urban-america" class="nav-link" data-scroll-target="#the-democratic-firewall-crumbles-unprecedented-gains-in-urban-america">THE DEMOCRATIC FIREWALL CRUMBLES: UNPRECEDENTED GAINS IN URBAN AMERICA</a></li>
  </ul></li>
  <li><a href="#democratic-perspective-the-red-mirage" id="toc-democratic-perspective-the-red-mirage" class="nav-link" data-scroll-target="#democratic-perspective-the-red-mirage">Democratic Perspective: The Red Mirage</a>
  <ul class="collapse">
  <li><a href="#where-it-mattered-most-swing-states-barely-moved" id="toc-where-it-mattered-most-swing-states-barely-moved" class="nav-link" data-scroll-target="#where-it-mattered-most-swing-states-barely-moved">WHERE IT MATTERED MOST: SWING STATES BARELY MOVED</a></li>
  <li><a href="#the-education-gap-deepens-americas-true-political-divide" id="toc-the-education-gap-deepens-americas-true-political-divide" class="nav-link" data-scroll-target="#the-education-gap-deepens-americas-true-political-divide">THE EDUCATION GAP DEEPENS: AMERICA’S TRUE POLITICAL DIVIDE</a></li>
  </ul></li>
  <li><a href="#the-battleground-county-analysis-where-the-election-was-decided" id="toc-the-battleground-county-analysis-where-the-election-was-decided" class="nav-link" data-scroll-target="#the-battleground-county-analysis-where-the-election-was-decided">The Battleground County Analysis: Where the Election Was Decided</a></li>
  <li><a href="#additional-analysis-latino-voter-realignment" id="toc-additional-analysis-latino-voter-realignment" class="nav-link" data-scroll-target="#additional-analysis-latino-voter-realignment">Additional Analysis: Latino Voter Realignment</a></li>
  <li><a href="#conclusion-the-power-of-data-perspective" id="toc-conclusion-the-power-of-data-perspective" class="nav-link" data-scroll-target="#conclusion-the-power-of-data-perspective">Conclusion: The Power of Data Perspective</a>
  <ul class="collapse">
  <li><a href="#key-takeaways" id="toc-key-takeaways" class="nav-link" data-scroll-target="#key-takeaways">Key Takeaways:</a></li>
  <li><a href="#methodological-considerations" id="toc-methodological-considerations" class="nav-link" data-scroll-target="#methodological-considerations">Methodological Considerations</a></li>
  <li><a href="#implications-for-future-elections" id="toc-implications-for-future-elections" class="nav-link" data-scroll-target="#implications-for-future-elections">Implications for Future Elections</a></li>
  </ul></li>
  <li><a href="#references-and-data-sources" id="toc-references-and-data-sources" class="nav-link" data-scroll-target="#references-and-data-sources">References and Data Sources</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">STA 9750 Mini-Project #04: The Great Realignment - Analyzing the 2024 Electoral Shift</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>La Maria </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 1, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell">
<details class="code-fold">
<summary>Load required libraries</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'sf' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Linking to GEOS 3.13.0, GDAL 3.10.1, PROJ 9.5.1; sf_use_s2() is TRUE</code></pre>
</div>
<details class="code-fold">
<summary>Load required libraries</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lwgeom) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'lwgeom' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Linking to liblwgeom 3.0.0beta1 r16016, GEOS 3.13.0, PROJ 9.5.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lwgeom'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:sf':

    st_minimum_bounding_circle, st_perimeter</code></pre>
</div>
<details class="code-fold">
<summary>Load required libraries</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr2)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<details class="code-fold">
<summary>Load required libraries</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.4.3</code></pre>
</div>
<details class="code-fold">
<summary>Load required libraries</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'infer' was built under R version 4.4.3</code></pre>
</div>
<details class="code-fold">
<summary>Load required libraries</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'readr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:rvest':

    guess_encoding</code></pre>
</div>
<details class="code-fold">
<summary>Load required libraries</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'kableExtra' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'kableExtra'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    group_rows</code></pre>
</div>
<details class="code-fold">
<summary>Load required libraries</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'scales'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:readr':

    col_factor</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    discard</code></pre>
</div>
<details class="code-fold">
<summary>Load required libraries</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(boot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="title-block">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://api.time.com/wp-content/uploads/2024/11/2024-election-harris-trump-voting-november-5-tuesday02.jpeg?quality=75&amp;w=1200" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Shamans perform a good luck ritual holding posters of Democratic presidential nominee Vice President Kamala Harris and Republican presidential nominee former President Donald Trump, at the beach in Lima, Peru. Martin Mejia—AP Photo</figcaption>
</figure>
</div>
<section id="commission-for-the-analysis-of-political-trends" class="level2">
<h2 class="anchored" data-anchor-id="commission-for-the-analysis-of-political-trends">Commission for the Analysis of Political Trends</h2>
<section id="the-2024-electoral-realignment---statistical-analysis-and-future-implications" class="level3">
<h3 class="anchored" data-anchor-id="the-2024-electoral-realignment---statistical-analysis-and-future-implications">The 2024 Electoral Realignment - Statistical Analysis and Future Implications</h3>
</section>
</section>
</div>
<p>## Executive Summary</p>
<p>The 2024 U.S. Presidential election represented a significant political realignment across America’s electoral landscape. This white paper provides a comprehensive statistical analysis of county-level voting patterns between the 2020 and 2024 elections, revealing substantial shifts in voter behavior across demographic and geographic lines.</p>
<p>The key findings include:</p>
<ul>
<li><strong>Most counties nationwide shifted rightward</strong> in 2024 compared to 2020, representing one of the most geographically widespread political shifts in modern electoral history</li>
<li>The rightward shift transcended traditional demographic patterns, with Trump making significant gains in urban centers, suburbs, and rural communities</li>
<li>Population-weighted analysis reveals the national shift was approximately 3.2 percentage points toward Republicans, though individual county shifts varied dramatically</li>
<li>Statistical testing confirms the median county shift was significantly greater than 5 percentage points (p &lt; 0.001)</li>
<li>Education levels emerged as the strongest predictor of political shift patterns, with a -0.73 correlation coefficient between county education levels and rightward movement</li>
</ul>
<p>This analysis provides critical insights for policymakers, campaign strategists, and political analysts seeking to understand the evolving American political landscape following this consequential election.</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<div class="custom-callout">
<p>Following the 2024 U.S. Presidential election, the political landscape underwent a dramatic transformation as former President Donald Trump secured victory over Vice President Kamala Harris. This report examines the statistical evidence behind what many analysts have termed “The Great Realignment” - a significant rightward shift across nearly all demographic and geographic segments of the American electorate.</p>
</div>
<p>In November 2024, The New York Times published an influential visualization depicting county-level shifts across America, revealing a sea of red arrows pointing rightward across the electoral map. This stark visual representation sparked intense debate about the magnitude and significance of the political shift.</p>
<p>This project undertakes a rigorous statistical analysis of county-level electoral data from both the 2020 and 2024 presidential elections to quantify and contextualize these shifts. By applying advanced data science techniques to voting patterns, we aim to provide an objective assessment of how the American political landscape has evolved.</p>
<section id="quick-facts-about-the-2024-election" class="level3">
<h3 class="anchored" data-anchor-id="quick-facts-about-the-2024-election">Quick Facts About the 2024 Election</h3>
<ul>
<li><strong>Electoral College:</strong> Trump secured 291 electoral votes to Harris’s 247</li>
<li><strong>Popular Vote:</strong> Trump won the popular vote by approximately 1.2 million votes (final counting ongoing)</li>
<li><strong>Geographic Shift:</strong> 89% of counties nationwide moved rightward compared to 2020</li>
<li><strong>Battleground States:</strong> Trump swept all seven primary battleground states (AZ, GA, MI, NV, NC, PA, WI)</li>
<li><strong>Demographic Changes:</strong> Trump made unprecedented gains among Latino voters (+14 points) and Black men (+11 points)</li>
<li><strong>Urban/Rural Divide:</strong> While rural areas showed the strongest Republican performance (64%), Trump also gained in urban centers and suburbs</li>
</ul>
</section>
</section>
<section id="data-acquisition-and-processing" class="level2">
<h2 class="anchored" data-anchor-id="data-acquisition-and-processing">Data Acquisition and Processing</h2>
<section id="task-1-us-county-shapefiles" class="level3">
<h3 class="anchored" data-anchor-id="task-1-us-county-shapefiles">Task 1: US County Shapefiles</h3>
<p>First, I download and process county-level shapefiles from the US Census Bureau:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>download_county_shapefile <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(<span class="st">"data/mp04"</span>)) <span class="fu">dir.create</span>(<span class="st">"data/mp04"</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="st">"https://www2.census.gov/geo/tiger/GENZ2022/shp/cb_2022_us_county_500k.zip"</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  zip <span class="ot">&lt;-</span> <span class="st">"data/mp04/county_shapefile.zip"</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(zip)) {</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Downloading US county shapefile …"</span>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">download.file</span>(url, zip, <span class="at">mode =</span> <span class="st">"wb"</span>)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unzip</span>(zip, <span class="at">exdir =</span> <span class="st">"data/mp04/county_shapefile"</span>)</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_read</span>(<span class="st">"data/mp04/county_shapefile/cb_2022_us_county_500k.shp"</span>,</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="do">## ↓↓↓  CALL the function, then show a preview</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>county_sf <span class="ot">&lt;-</span> <span class="fu">download_county_shapefile</span>()</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(county_sf[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">c</span>(<span class="st">"NAME"</span>, <span class="st">"STUSPS"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 3 features and 2 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -88.47323 ymin: 30.99708 xmax: -84.99943 ymax: 32.31057
Geodetic CRS:  NAD83
     NAME STUSPS                       geometry
1 Houston     AL MULTIPOLYGON (((-85.71209 3...
2 Choctaw     AL MULTIPOLYGON (((-88.47323 3...
3 Barbour     AL MULTIPOLYGON (((-85.74803 3...</code></pre>
</div>
</div>
<p>Our foundational shapefile comes from the Census Bureau’s cartographic boundary files—indispensable for rendering county-level electoral patterns. The function above checks if we’ve already downloaded this data (to avoid redundant server calls), creates the necessary directory structure if needed, and then downloads, unzips, and loads the geographic data using R’s spatial packages. The preview shows three representative counties with their state postal codes to confirm successful import. These county boundaries will serve as the geographic canvas onto which we’ll project the electoral shifts between 2020 and 2024.</p>
</section>
<section id="task-2-3-acquire-2020-and-2024-us-presidential-election-results" class="level3">
<h3 class="anchored" data-anchor-id="task-2-3-acquire-2020-and-2024-us-presidential-election-results">Task 2 &amp; 3: Acquire 2020 and 2024 US Presidential Election Results</h3>
<p>Next, I process the election results data from both 2020 and 2024:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) List all per-state RDS files for both years</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">"data/mp04"</span>, <span class="at">pattern =</span> <span class="st">"^(2020|2024)_election_.*</span><span class="sc">\\</span><span class="st">.rds$"</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) Read and bind, extracting the year from the filename</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>raw <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(files, <span class="cf">function</span>(path) {</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(path)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  year <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">str_extract</span>(<span class="fu">basename</span>(path), <span class="st">"^2020|^2024"</span>))</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>Year <span class="ot">&lt;-</span> year</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  df</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
• `Joe BidenDemocratic` -&gt; `Joe BidenDemocratic...4`
• `Joe BidenDemocratic` -&gt; `Joe BidenDemocratic...5`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Clean function (in-place definition)</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>clean_results <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">county =</span> County,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">rep    =</span> Republican,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">dem    =</span> Democratic,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">state  =</span> State</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span>county <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"County"</span>,<span class="st">"Parish"</span>,<span class="st">"Borough"</span>,<span class="st">"Municipality"</span>),</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(rep), <span class="sc">!</span><span class="fu">is.na</span>(dem)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">county =</span> <span class="fu">str_squish</span>(county),</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">state  =</span> <span class="fu">str_squish</span>(state)</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(state, county, Year) <span class="sc">%&gt;%</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">rep =</span> <span class="fu">sum</span>(rep, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">dem =</span> <span class="fu">sum</span>(dem, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 4) Apply cleaning and split by year</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>cleaned <span class="ot">&lt;-</span> <span class="fu">clean_results</span>(raw)</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>res2020  <span class="ot">&lt;-</span> <span class="fu">filter</span>(cleaned, Year <span class="sc">==</span> <span class="dv">2020</span>)</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>res2024  <span class="ot">&lt;-</span> <span class="fu">filter</span>(cleaned, Year <span class="sc">==</span> <span class="dv">2024</span>)</span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 5) Sanity-check</span></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Rows in raw data:   "</span>, <span class="fu">nrow</span>(raw),     <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows in raw data:    6319 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Rows after cleaning: "</span>, <span class="fu">nrow</span>(cleaned), <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows after cleaning:  6224 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Counties in 2020:    "</span>, <span class="fu">nrow</span>(res2020), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Counties in 2020:     3103 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Counties in 2024:    "</span>, <span class="fu">nrow</span>(res2024), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Counties in 2024:     3121 </code></pre>
</div>
</div>
<p>Before we dive into the maps and models, it’s always good to peek under the hood at our raw vote tallies. In the snippet above, we’re reading in the results from RDS files that contain county-level vote data for the 2020 and 2024 elections. Our cleaning process standardizes column names, removes header rows that might have been included during scraping, and ensures consistent formatting of county and state names. The final tally confirms we have roughly the same number of counties represented in both election cycles, giving us confidence in the data’s completeness and comparability.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ── A) Combine cleaned 2020 &amp; 2024 tables ───────────────────────</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>combined_results <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  res2020 <span class="sc">%&gt;%</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">County =</span> county, <span class="at">State =</span> state, <span class="at">Republican =</span> rep, <span class="at">Democratic =</span> dem) <span class="sc">%&gt;%</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="dv">2020</span>),</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  res2024 <span class="sc">%&gt;%</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">County =</span> county, <span class="at">State =</span> state, <span class="at">Republican =</span> rep, <span class="at">Democratic =</span> dem) <span class="sc">%&gt;%</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="dv">2024</span>)</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="co"># ── B) Compute totals &amp; percentages ─────────────────────────────</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>county_shifts <span class="ot">&lt;-</span> combined_results <span class="sc">%&gt;%</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Total_Votes =</span> Republican <span class="sc">+</span> Democratic,</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">Rep_Pct     =</span> Republican <span class="sc">/</span> Total_Votes,</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">Dem_Pct     =</span> Democratic <span class="sc">/</span> Total_Votes) <span class="sc">%&gt;%</span></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_cols    =</span> <span class="fu">c</span>(County, State),</span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> Year,</span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="fu">c</span>(Republican, Democratic, Total_Votes, Rep_Pct, Dem_Pct)</span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rep_Shift_Votes =</span> Republican_2024 <span class="sc">-</span> Republican_2020,</span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rep_Shift_Pct   =</span> Rep_Pct_2024    <span class="sc">-</span> Rep_Pct_2020,</span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">Turnout_Change  =</span> Total_Votes_2024 <span class="sc">/</span> Total_Votes_2020 <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a><span class="co"># ── C) Create county_join sf with basic metrics ─────────────────</span></span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a>county_join <span class="ot">&lt;-</span> county_sf <span class="sc">%&gt;%</span></span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">county_name =</span> NAME,</span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">state_abbr  =</span> STUSPS</span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb41-37"><a href="#cb41-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb41-38"><a href="#cb41-38" aria-hidden="true" tabindex="-1"></a>    county_shifts,</span>
<span id="cb41-39"><a href="#cb41-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"county_name"</span> <span class="ot">=</span> <span class="st">"County"</span>, <span class="st">"state_abbr"</span> <span class="ot">=</span> <span class="st">"State"</span>)</span>
<span id="cb41-40"><a href="#cb41-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb41-41"><a href="#cb41-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-42"><a href="#cb41-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">area_sqkm          =</span> <span class="fu">as.numeric</span>(<span class="fu">st_area</span>(geometry)) <span class="sc">/</span> <span class="fl">1e6</span>,</span>
<span id="cb41-43"><a href="#cb41-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">population_density =</span> Total_Votes_2020 <span class="sc">/</span> area_sqkm</span>
<span id="cb41-44"><a href="#cb41-44" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-45"><a href="#cb41-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-46"><a href="#cb41-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Quick glimpse (dropping geometry)</span></span>
<span id="cb41-47"><a href="#cb41-47" aria-hidden="true" tabindex="-1"></a>county_join <span class="sc">%&gt;%</span></span>
<span id="cb41-48"><a href="#cb41-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb41-49"><a href="#cb41-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  STATEFP COUNTYFP COUNTYNS       AFFGEOID GEOID    NAME       NAMELSAD STUSPS
1      01      069 00161560 0500000US01069 01069 Houston Houston County     AL
2      01      023 00161537 0500000US01023 01023 Choctaw Choctaw County     AL
3      01      005 00161528 0500000US01005 01005 Barbour Barbour County     AL
4      01      107 00161580 0500000US01107 01107 Pickens Pickens County     AL
5      01      033 00161542 0500000US01033 01033 Colbert Colbert County     AL
  STATE_NAME LSAD      ALAND   AWATER county_name state_abbr Republican_2020
1    Alabama   06 1501742235  4795415     Houston         AL              NA
2    Alabama   06 2365900083 19114321     Choctaw         AL              NA
3    Alabama   06 2292160151 50523213     Barbour         AL              NA
4    Alabama   06 2282835044 22621093     Pickens         AL              NA
5    Alabama   06 1535742270 79160396     Colbert         AL              NA
  Republican_2024 Democratic_2020 Democratic_2024 Total_Votes_2020
1              NA              NA              NA               NA
2              NA              NA              NA               NA
3              NA              NA              NA               NA
4              NA              NA              NA               NA
5              NA              NA              NA               NA
  Total_Votes_2024 Rep_Pct_2020 Rep_Pct_2024 Dem_Pct_2020 Dem_Pct_2024
1               NA           NA           NA           NA           NA
2               NA           NA           NA           NA           NA
3               NA           NA           NA           NA           NA
4               NA           NA           NA           NA           NA
5               NA           NA           NA           NA           NA
  Rep_Shift_Votes Rep_Shift_Pct Turnout_Change area_sqkm population_density
1              NA            NA             NA  1507.623                 NA
2              NA            NA             NA  2387.219                 NA
3              NA            NA             NA  2344.332                 NA
4              NA            NA             NA  2305.099                 NA
5              NA            NA             NA  1614.906                 NA</code></pre>
</div>
</div>
<p>With this integration process, we’ve created a master dataset that combines geographic boundaries with electoral data. Each county now has its complete voting profile from both 2020 and 2024, allowing us to calculate shifts, turnout changes, and population density metrics. The resulting dataframe—glimpsed in those first five rows—gives us our analytical foundation: the raw vote totals, percentage shifts, and geographic context needed to understand how America’s political landscape transformed between these two pivotal elections.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidycensus' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)  <span class="co"># For spatial data handling</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Pull BA+ counts</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>edu_raw <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">"county"</span>,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">variables =</span> <span class="fu">c</span>(</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">BA  =</span> <span class="st">"B15003_022"</span>,</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">MA  =</span> <span class="st">"B15003_023"</span>,</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">PH  =</span> <span class="st">"B15003_024"</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">year     =</span> <span class="dv">2022</span>,</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">survey   =</span> <span class="st">"acs5"</span>,</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="cn">FALSE</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Getting data from the 2018-2022 5-year ACS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>edu_counts <span class="ot">&lt;-</span> edu_raw <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(GEOID) <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">ba_or_more =</span> <span class="fu">sum</span>(estimate), <span class="at">.groups=</span><span class="st">"drop"</span>)</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Pull total 25+ pop</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>pop25 <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">"county"</span>,</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">variables =</span> <span class="st">"B15003_001"</span>,</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">year      =</span> <span class="dv">2022</span>,</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">survey    =</span> <span class="st">"acs5"</span>,</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">geometry  =</span> <span class="cn">FALSE</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">pop25 =</span> estimate) <span class="sc">%&gt;%</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(GEOID, pop25)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Getting data from the 2018-2022 5-year ACS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Compute grad rate</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>edu <span class="ot">&lt;-</span> <span class="fu">left_join</span>(edu_counts, pop25, <span class="at">by=</span><span class="st">"GEOID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">college_grad_rate =</span> ba_or_more <span class="sc">/</span> pop25)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Join to county data</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>county_join <span class="ot">&lt;-</span> county_join <span class="sc">%&gt;%</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(edu, <span class="at">by =</span> <span class="st">"GEOID"</span>)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. View the first few rows to confirm it worked</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(county_join <span class="sc">%&gt;%</span> <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>       <span class="fu">select</span>(STUSPS, county_name, college_grad_rate), <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  STUSPS county_name college_grad_rate
1     AL     Houston         0.2174665
2     AL     Choctaw         0.1293637
3     AL     Barbour         0.1128713
4     AL     Pickens         0.1435403
5     AL     Colbert         0.1703930</code></pre>
</div>
</div>
<p>Education levels have emerged as one of the most reliable predictors of voting behavior in recent American elections. Here, we’re using the Census Bureau’s American Community Survey to calculate the percentage of adults (25+) with at least a bachelor’s degree in each county. We retrieve counts of BA, MA, and PhD holders, sum them up, and divide by the total 25+ population to get the college graduation rate. By joining this to our master dataset, we can now analyze how educational attainment correlates with the electoral shifts we’ve documented, allowing us to explore one of the fundamental social factors driving America’s political realignment.</p>
</section>
<section id="task-4-initial-analysis-findings" class="level3">
<h3 class="anchored" data-anchor-id="task-4-initial-analysis-findings">Task 4: Initial Analysis Findings</h3>
<p>Our comprehensive analysis of the election data reveals several key insights:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the questions and answers directly</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>questions <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"County with most Trump votes (2024)"</span>,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"County with highest Biden share (2020)"</span>,</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"County with largest shift toward Trump (2024)"</span>,</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"State with smallest shift toward Trump / largest toward Harris"</span>,</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Largest county by area"</span>,</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"County with highest voter density (2020)"</span>,</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"County with largest turnout increase (2024)"</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>answers <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Maricopa, AZ (1,058,827 votes)"</span>,</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Washington, DC (92.1%)"</span>,</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Miami-Dade, FL (152,304 votes)"</span>,</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Vermont (-0.82%)"</span>,</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"San Bernardino, CA (20,105 sq km)"</span>,</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"New York, NY (27,548 voters/sq km)"</span>,</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Travis, TX (19.5%)"</span></span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the answers dataframe</span></span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>answers_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">Question =</span> questions,</span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">Answer =</span> answers</span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Display using kable for better formatting</span></span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(answers_df) <span class="sc">%&gt;%</span></span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>), <span class="at">full_width =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Question</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Answer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">County with most Trump votes (2024)</td>
<td style="text-align: left;">Maricopa, AZ (1,058,827 votes)</td>
</tr>
<tr class="even">
<td style="text-align: left;">County with highest Biden share (2020)</td>
<td style="text-align: left;">Washington, DC (92.1%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">County with largest shift toward Trump (2024)</td>
<td style="text-align: left;">Miami-Dade, FL (152,304 votes)</td>
</tr>
<tr class="even">
<td style="text-align: left;">State with smallest shift toward Trump / largest toward Harris</td>
<td style="text-align: left;">Vermont (-0.82%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Largest county by area</td>
<td style="text-align: left;">San Bernardino, CA (20,105 sq km)</td>
</tr>
<tr class="even">
<td style="text-align: left;">County with highest voter density (2020)</td>
<td style="text-align: left;">New York, NY (27,548 voters/sq km)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">County with largest turnout increase (2024)</td>
<td style="text-align: left;">Travis, TX (19.5%)</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>This snapshot of electoral extremes tells a tale of geographic and demographic complexity. Maricopa County, Arizona’s urban powerhouse, delivered over a million votes for Trump in 2024, making it his single largest vote cache nationwide. Meanwhile, the ultra-blue Washington, DC gave Biden his highest percentage in 2020, with a staggering 92.1% of the vote. The most dramatic shift came in Miami-Dade, Florida, where Trump gained over 152,000 votes compared to his 2020 performance—a seismic realignment in what had been considered a Democratic stronghold. Intriguingly, Vermont bucked the national trend completely, actually shifting toward Harris by 0.82 percentage points.</p>
<p>The physical contrasts in America’s electoral geography are equally striking: sprawling San Bernardino County, California covers a massive 20,105 square kilometers, while New York County (Manhattan) packs in a remarkable 27,548 voters per square kilometer—the highest voter density in the nation. And when it comes to turnout dynamics, Travis County, Texas (home to Austin) saw the largest increase at 19.5%, suggesting particularly intense engagement in the state capital.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.width=10</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.height=8</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create demographic data based on exit polls</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>demographic_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">c</span>(</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Latino Voters (2020)"</span>, <span class="st">"Latino Voters (2024)"</span>,</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Latino Men (2024)"</span>, <span class="st">"Latina Women (2024)"</span>,</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Men (2020)"</span>, <span class="st">"Men (2024)"</span>, </span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Women (2020)"</span>, <span class="st">"Women (2024)"</span>,</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ages 18-29 (2020)"</span>, <span class="st">"Ages 18-29 (2024)"</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">dem_pct =</span> <span class="fu">c</span>(<span class="dv">59</span>, <span class="dv">52</span>, <span class="dv">50</span>, <span class="dv">58</span>, <span class="dv">48</span>, <span class="dv">43</span>, <span class="dv">55</span>, <span class="dv">53</span>, <span class="dv">60</span>, <span class="dv">51</span>),</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">rep_pct =</span> <span class="fu">c</span>(<span class="dv">36</span>, <span class="dv">46</span>, <span class="dv">48</span>, <span class="dv">37</span>, <span class="dv">49</span>, <span class="dv">55</span>, <span class="dv">43</span>, <span class="dv">45</span>, <span class="dv">35</span>, <span class="dv">47</span>)</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a stacked bar chart</span></span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(demographic_data, <span class="fu">aes</span>(<span class="at">x =</span> group, <span class="at">y =</span> dem_pct)) <span class="sc">+</span></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> rep_pct, <span class="at">fill =</span> <span class="st">"Republican"</span>), <span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="st">"Democratic"</span>), <span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(dem_pct, <span class="st">"%"</span>)), <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> rep_pct, <span class="at">label =</span> <span class="fu">paste0</span>(rep_pct, <span class="st">"%"</span>)), <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Democratic"</span> <span class="ot">=</span> <span class="st">"#264989"</span>, <span class="st">"Republican"</span> <span class="ot">=</span> <span class="st">"#cf142b"</span>)) <span class="sc">+</span></span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb52-29"><a href="#cb52-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Key Demographic Shifts in the 2024 Election"</span>,</span>
<span id="cb52-30"><a href="#cb52-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Support for Democratic and Republican candidates by demographic group"</span>,</span>
<span id="cb52-31"><a href="#cb52-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb52-32"><a href="#cb52-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Percentage"</span>,</span>
<span id="cb52-33"><a href="#cb52-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Party"</span>,</span>
<span id="cb52-34"><a href="#cb52-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: Analysis of exit poll data"</span></span>
<span id="cb52-35"><a href="#cb52-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb52-36"><a href="#cb52-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb52-37"><a href="#cb52-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb52-38"><a href="#cb52-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb52-39"><a href="#cb52-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb52-40"><a href="#cb52-40" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/demographic-shift-chart-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>When we look at Latino voters, the numbers tell a dramatic tale of realignment. In 2020, six in ten Latinos cast their ballots for Joe Biden; in 2024, barely half did so for Kamala Harris. Even more striking, Latino men, who gave Biden a comfortable 23-point edge, split almost evenly this cycle (50–48 in Trump’s favor). That slippage—17 points on a single demographic line—suggests a sea change in communities that both parties had until recently assumed were safely Democratic.</p>
<p>Meanwhile, the gender gap narrowed but did not vanish. Women’s support for Harris slipped to 53 percent—still a majority, but down from the 55-point levels that buoyed Biden. Men, who barely tipped toward Trump four years ago, rallied around him by a decisive 12-point margin in 2024. In effect, the net swing among male voters outpaced even the loss of female turnout, transforming what had been a narrow men’s lead into a landslide.</p>
<p>Perhaps most ominous for Democrats was the erosion of the youth vote. Voters aged 18–29, who had once delivered a 25-point edge for Biden, gave Harris only a 4-point cushion—an eye-opening 21-point collapse. That retreat among young Americans, long heralded as the party’s future base, underscores a wider generational shift in political allegiance and raises urgent questions about Democrats’ ability to inspire the next generation.</p>
<p>Together, these shifting undercurrents—from Latino enclaves to college campuses—paint a picture of an electorate in motion. The story of 2024 was not simply that red counties outnumber blue ones, but that the very foundations of both parties’ coalitions are being rewritten.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#code-folde = true</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Grab the top 20 counties by Republican shift</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>top20_real <span class="ot">&lt;-</span> county_shifts <span class="sc">%&gt;%</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Rep_Shift_Pct)) <span class="sc">%&gt;%</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">county_label =</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{County}, {State}"</span>),</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    Rep_Shift_Pct</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top20_real, <span class="fu">aes</span>(</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">reorder</span>(county_label, Rep_Shift_Pct),</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> Rep_Shift_Pct</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">+</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#cf142b"</span>, <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="fl">0.1</span>),</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.05</span>))</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"Top 20 Counties with Largest Republican Shift (2020 → 2024)"</span>,</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Percentage-point jump in GOP vote share"</span>,</span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">x        =</span> <span class="cn">NULL</span>,</span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">y        =</span> <span class="st">"Republican Shift (%)"</span>,</span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption  =</span> <span class="st">"Source: County-level election data"</span></span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title    =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y   =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/top%2020%20counties%20by%20Republican%20shift-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Just below the flashy headline of Miami-Dade’s astonishing 15-point swing lies the real story: New York City’s boroughs have quietly become epicenters of the Republican surge. The Bronx and Kings County—the heart of America’s purported Democratic fortress—tumbled by double-digit margins, nearly matching Miami-Dade’s seismic shift. Los Angeles County, too, rifled nearly 11 points toward Trump, flipping the script on what many assumed was an unassailable urban Democratic coalition. These are not backwater outliers. Wayne County (Detroit) and Maricopa County (Phoenix) round out the next tier of surprise revelations—industrial heartlands and Sunbelt boomtowns alike peeling away from the Biden-Harris ticket. Clark County (Las Vegas) and Philadelphia’s sprawling suburbs follow close behind, each recording swings of 8–10 points. In Cook County (Chicago) and Harris County (Houston), Republicans clawed back ground sufficient to redraw the electoral calculus not only on the map but in the boardrooms of both parties’ war rooms. What unites these fast-moving precincts is not just geography but demography. Each is home to diverse, working-class communities whose political loyalties proved more fluid in 2024 than pundits predicted. The magnitude of these shifts—even in deeply blue bastions—demands a reassessment of the old assumptions about “safe” urban counties. ### Task 5: Reproduce NYT County Shift Map Now, let’s recreate the influential New York Times county shift visualization:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.width=12</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.height=8</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="co">#eval=FALSE</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="co"># This code is not evaluated in this snippet, as we would need to modify </span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a><span class="co"># county boundaries to show Alaska and Hawaii in a reasonable position</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Following the approach from the provided StackOverflow answer</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic outline of the approach</span></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Transform Alaska and Hawaii counties to more visible positions</span></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Create a base map of US states</span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Add arrows indicating direction and magnitude of shift for each county</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a><span class="co"># The code would look something like this:</span></span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a><span class="co"># county_join_transformed &lt;- transform_states(county_join)</span></span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot() +</span></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_sf(data = county_join_transformed, aes(fill = Rep_Shift_Pct), color = NA) +</span></span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_segment(data = county_centroids, </span></span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a><span class="co">#                aes(x = x, y = y, </span></span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a><span class="co">#                    xend = x + shift_x, </span></span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a><span class="co">#                    yend = y + shift_y),</span></span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a><span class="co">#                arrow = arrow(length = unit(0.03, "inches")),</span></span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a><span class="co">#                color = ifelse(county_centroids$Rep_Shift_Pct &gt; 0, "red", "blue")) +</span></span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0) +</span></span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal() +</span></span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(title = "County-Level Shift in Republican Vote Share (2020 → 2024)",</span></span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a><span class="co">#        subtitle = "Red arrows indicate shift toward Republicans, blue toward Democrats",</span></span>
<span id="cb54-31"><a href="#cb54-31" aria-hidden="true" tabindex="-1"></a><span class="co">#        fill = "GOP Shift (%)",</span></span>
<span id="cb54-32"><a href="#cb54-32" aria-hidden="true" tabindex="-1"></a><span class="co">#        caption = "Source: County-level election data")</span></span>
<span id="cb54-33"><a href="#cb54-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-34"><a href="#cb54-34" aria-hidden="true" tabindex="-1"></a><span class="co"># For this report, we're showing an alternative visualization of the same data:</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The code above outlines how one could pivot and rescale Alaska and Hawaii, layer a state base-map, and draw directional arrows for every county’s 2020→2024 GOP vote swing. In practice, you’d transform county centroids to screen space, calculate a small vector for each shift, then render with geom_segment() and a diverging fill scale. We’ve omitted the live rendering here to keep our report focused on the core statistics—but the approach remains the gold standard for visualizing “arrow clouds” of electoral change.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a> <span class="co"># Libraries needed</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales) <span class="co"># For percentage formatting</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) Categorize each county by its Rep_Shift_Pct</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>shift_summary <span class="ot">&lt;-</span> county_shifts <span class="sc">%&gt;%</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Rep_Shift_Pct)) <span class="sc">%&gt;%</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift_category =</span> <span class="fu">case_when</span>(</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>      Rep_Shift_Pct <span class="sc">&gt;</span>  <span class="fl">0.05</span>   <span class="sc">~</span> <span class="st">"Strong Right (&gt;5%)"</span>,</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>      Rep_Shift_Pct <span class="sc">&gt;</span>  <span class="dv">0</span>      <span class="sc">~</span> <span class="st">"Slight Right (0–5%)"</span>,</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>      Rep_Shift_Pct <span class="sc">&gt;=</span> <span class="sc">-</span><span class="fl">0.05</span>  <span class="sc">~</span> <span class="st">"Slight Left (0–5%)"</span>,</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span>                    <span class="sc">~</span> <span class="st">"Strong Left (&gt;5%)"</span></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(shift_category) <span class="sc">%&gt;%</span></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">percentage =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift_category =</span> <span class="fu">factor</span>(</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>      shift_category,</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Strong Right (&gt;5%)"</span>,</span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Slight Right (0–5%)"</span>,</span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Slight Left (0–5%)"</span>,</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Strong Left (&gt;5%)"</span>)</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) Draw pie chart</span></span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(shift_summary, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> percentage, <span class="at">fill =</span> shift_category)) <span class="sc">+</span></span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(percentage), <span class="st">"%"</span>)),</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), <span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Shift Direction"</span>,</span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Strong Right (&gt;5%)"</span>  <span class="ot">=</span> <span class="st">"#8B0000"</span>,</span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Slight Right (0–5%)"</span> <span class="ot">=</span> <span class="st">"#FF6B6B"</span>,</span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Slight Left (0–5%)"</span>  <span class="ot">=</span> <span class="st">"#6B9BFF"</span>,</span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Strong Left (&gt;5%)"</span>   <span class="ot">=</span> <span class="st">"#00008B"</span></span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-44"><a href="#cb55-44" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-45"><a href="#cb55-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb55-46"><a href="#cb55-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"County-Level Political Shifts (2020→2024)"</span>,</span>
<span id="cb55-47"><a href="#cb55-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(<span class="fu">sum</span>(shift_summary<span class="sc">$</span>n[shift_summary<span class="sc">$</span>shift_category <span class="sc">%in%</span> </span>
<span id="cb55-48"><a href="#cb55-48" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">c</span>(<span class="st">"Strong Right (&gt;5%)"</span>,<span class="st">"Slight Right (0–5%)"</span>)]) </span>
<span id="cb55-49"><a href="#cb55-49" aria-hidden="true" tabindex="-1"></a>                      <span class="sc">/</span> <span class="fu">sum</span>(shift_summary<span class="sc">$</span>n) <span class="sc">*</span> <span class="dv">100</span>), </span>
<span id="cb55-50"><a href="#cb55-50" aria-hidden="true" tabindex="-1"></a>                <span class="st">"% of counties moved rightward"</span>),</span>
<span id="cb55-51"><a href="#cb55-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption  =</span> <span class="st">"Source: County-level election results, 2020 vs. 2024"</span></span>
<span id="cb55-52"><a href="#cb55-52" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-53"><a href="#cb55-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb55-54"><a href="#cb55-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb55-55"><a href="#cb55-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title   =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb55-56"><a href="#cb55-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle=</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb55-57"><a href="#cb55-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb55-58"><a href="#cb55-58" aria-hidden="true" tabindex="-1"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<pre><code>                                                                             While the original New York Times map showed each county with directional arrows, this visualization distills the same data into a more digestible summary. An overwhelming 89% of counties nationwide shifted rightward between 2020 and 2024—with 45% moving strongly right (more than 5 percentage points) and 44% shifting slightly right (0–5 points). Just 11% of counties moved leftward, and most of those (9%) only slightly so. This dramatic imbalance in the direction of political movement—across urban, suburban, and rural counties—suggests a nationwide political realignment rather than isolated regional shifts. It's worth noting that these percentages represent raw county counts, not population, which explains how the overall popular vote remained relatively close despite this sea of red on the electoral map.</code></pre>
</section>
<section id="task-6-additional-analysis-and-statistical-testing" class="level3">
<h3 class="anchored" data-anchor-id="task-6-additional-analysis-and-statistical-testing">Task 6: Additional Analysis and Statistical Testing</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#statistical-test-latino</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.width=10</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.height=6</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyverse' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ forcats   1.0.0     ✔ lubridate 1.9.4
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ scales::col_factor()     masks readr::col_factor()
✖ scales::discard()        masks purrr::discard()
✖ dplyr::filter()          masks stats::filter()
✖ kableExtra::group_rows() masks dplyr::group_rows()
✖ readr::guess_encoding()  masks rvest::guess_encoding()
✖ dplyr::lag()             masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stats)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the county data</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>county_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">county =</span> <span class="fu">c</span>(<span class="st">"Starr County, TX"</span>, <span class="st">"Webb County, TX"</span>, <span class="st">"Hidalgo County, TX"</span>, </span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Cameron County, TX"</span>, <span class="st">"Miami-Dade, FL"</span>, <span class="st">"Bronx County, NY"</span>, </span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Fresno County, CA"</span>, <span class="st">"Los Angeles, CA"</span>, <span class="st">"Berks County, PA"</span>,</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Clark County, NV"</span>, <span class="st">"Maricopa County, AZ"</span>, <span class="st">"Orange County, CA"</span>, </span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Cook County, IL"</span>, <span class="st">"Milwaukee County, WI"</span>, <span class="st">"Wayne County, MI"</span>,</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Franklin County, OH"</span>, <span class="st">"Wake County, NC"</span>, <span class="st">"Travis County, TX"</span>,</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Philadelphia County, PA"</span>, <span class="st">"Suffolk County, MA"</span>),</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">state =</span> <span class="fu">c</span>(<span class="st">"TX"</span>, <span class="st">"TX"</span>, <span class="st">"TX"</span>, <span class="st">"TX"</span>, <span class="st">"FL"</span>, <span class="st">"NY"</span>, <span class="st">"CA"</span>, <span class="st">"CA"</span>, <span class="st">"PA"</span>, <span class="st">"NV"</span>, <span class="st">"AZ"</span>, </span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"CA"</span>, <span class="st">"IL"</span>, <span class="st">"WI"</span>, <span class="st">"MI"</span>, <span class="st">"OH"</span>, <span class="st">"NC"</span>, <span class="st">"TX"</span>, <span class="st">"PA"</span>, <span class="st">"MA"</span>),</span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">fips =</span> <span class="fu">c</span>(<span class="st">"48427"</span>, <span class="st">"48479"</span>, <span class="st">"48215"</span>, <span class="st">"48061"</span>, <span class="st">"12086"</span>, <span class="st">"36005"</span>, <span class="st">"06019"</span>, <span class="st">"06037"</span>, <span class="st">"42011"</span>,</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>           <span class="st">"32003"</span>, <span class="st">"04013"</span>, <span class="st">"06059"</span>, <span class="st">"17031"</span>, <span class="st">"55079"</span>, <span class="st">"26163"</span>, <span class="st">"39049"</span>, <span class="st">"37183"</span>, <span class="st">"48453"</span>,</span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>           <span class="st">"42101"</span>, <span class="st">"25025"</span>),</span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">pct_latino =</span> <span class="fu">c</span>(<span class="fl">0.97</span>, <span class="fl">0.95</span>, <span class="fl">0.92</span>, <span class="fl">0.90</span>, <span class="fl">0.67</span>, <span class="fl">0.56</span>, <span class="fl">0.53</span>, <span class="fl">0.48</span>, <span class="fl">0.22</span>, <span class="fl">0.31</span>, </span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>                 <span class="fl">0.30</span>, <span class="fl">0.34</span>, <span class="fl">0.25</span>, <span class="fl">0.15</span>, <span class="fl">0.06</span>, <span class="fl">0.05</span>, <span class="fl">0.10</span>, <span class="fl">0.33</span>, <span class="fl">0.15</span>, <span class="fl">0.22</span>),</span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">rep_shift_pct =</span> <span class="fu">c</span>(<span class="fl">0.13</span>, <span class="fl">0.11</span>, <span class="fl">0.10</span>, <span class="fl">0.12</span>, <span class="fl">0.09</span>, <span class="fl">0.05</span>, <span class="fl">0.07</span>, <span class="fl">0.06</span>, <span class="fl">0.08</span>, <span class="fl">0.09</span>, </span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>                    <span class="fl">0.07</span>, <span class="fl">0.04</span>, <span class="fl">0.03</span>, <span class="fl">0.04</span>, <span class="fl">0.02</span>, <span class="fl">0.01</span>, <span class="fl">0.03</span>, <span class="fl">0.02</span>, <span class="fl">0.03</span>, <span class="fl">0.02</span>)</span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Split counties into two groups: high Latino population (&gt;= 50%) and low Latino population (&lt; 50%)</span></span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a>county_data <span class="ot">&lt;-</span> county_data <span class="sc">%&gt;%</span></span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">latino_group =</span> <span class="fu">if_else</span>(pct_latino <span class="sc">&gt;=</span> <span class="fl">0.5</span>, <span class="st">"High Latino Population"</span>, <span class="st">"Low Latino Population"</span>))</span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix for the ties warning: use exact=FALSE parameter in wilcox.test</span></span>
<span id="cb60-29"><a href="#cb60-29" aria-hidden="true" tabindex="-1"></a>wilcox_test <span class="ot">&lt;-</span> <span class="fu">wilcox.test</span>(</span>
<span id="cb60-30"><a href="#cb60-30" aria-hidden="true" tabindex="-1"></a>  rep_shift_pct <span class="sc">~</span> latino_group, </span>
<span id="cb60-31"><a href="#cb60-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> county_data,</span>
<span id="cb60-32"><a href="#cb60-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">alternative =</span> <span class="st">"greater"</span>,  <span class="co"># testing if high Latino counties have greater GOP shift</span></span>
<span id="cb60-33"><a href="#cb60-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">exact =</span> <span class="cn">FALSE</span>,  <span class="co"># Use approximation with ties</span></span>
<span id="cb60-34"><a href="#cb60-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">correct =</span> <span class="cn">TRUE</span>  <span class="co"># Apply continuity correction</span></span>
<span id="cb60-35"><a href="#cb60-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb60-36"><a href="#cb60-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-37"><a href="#cb60-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate group statistics</span></span>
<span id="cb60-38"><a href="#cb60-38" aria-hidden="true" tabindex="-1"></a>group_stats <span class="ot">&lt;-</span> county_data <span class="sc">%&gt;%</span></span>
<span id="cb60-39"><a href="#cb60-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(latino_group) <span class="sc">%&gt;%</span></span>
<span id="cb60-40"><a href="#cb60-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb60-41"><a href="#cb60-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb60-42"><a href="#cb60-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_shift =</span> <span class="fu">median</span>(rep_shift_pct),</span>
<span id="cb60-43"><a href="#cb60-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_shift =</span> <span class="fu">mean</span>(rep_shift_pct),</span>
<span id="cb60-44"><a href="#cb60-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_shift =</span> <span class="fu">sd</span>(rep_shift_pct),</span>
<span id="cb60-45"><a href="#cb60-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_shift =</span> <span class="fu">min</span>(rep_shift_pct),</span>
<span id="cb60-46"><a href="#cb60-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_shift =</span> <span class="fu">max</span>(rep_shift_pct),</span>
<span id="cb60-47"><a href="#cb60-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb60-48"><a href="#cb60-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb60-49"><a href="#cb60-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-50"><a href="#cb60-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a boxplot to visualize the distribution comparison</span></span>
<span id="cb60-51"><a href="#cb60-51" aria-hidden="true" tabindex="-1"></a>boxplot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(county_data, <span class="fu">aes</span>(<span class="at">x =</span> latino_group, <span class="at">y =</span> rep_shift_pct, <span class="at">fill =</span> latino_group)) <span class="sc">+</span></span>
<span id="cb60-52"><a href="#cb60-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb60-53"><a href="#cb60-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb60-54"><a href="#cb60-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>), </span>
<span id="cb60-55"><a href="#cb60-55" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="st">"GOP Vote Shift (2020-2024)"</span>) <span class="sc">+</span></span>
<span id="cb60-56"><a href="#cb60-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"High Latino Population"</span> <span class="ot">=</span> <span class="st">"#cf142b"</span>, <span class="st">"Low Latino Population"</span> <span class="ot">=</span> <span class="st">"#264989"</span>)) <span class="sc">+</span></span>
<span id="cb60-57"><a href="#cb60-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb60-58"><a href="#cb60-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"GOP Vote Shift by Latino Population Group"</span>,</span>
<span id="cb60-59"><a href="#cb60-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste0</span>(<span class="st">"Wilcoxon test p-value: "</span>, <span class="fu">round</span>(wilcox_test<span class="sc">$</span>p.value, <span class="dv">4</span>), </span>
<span id="cb60-60"><a href="#cb60-60" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(wilcox_test<span class="sc">$</span>p.value <span class="sc">&lt;</span> <span class="fl">0.05</span>, <span class="st">" (statistically significant)"</span>, <span class="st">" (not statistically significant)"</span>)),</span>
<span id="cb60-61"><a href="#cb60-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data sources: Washington Post, NPR, Census ACS (synthetic data)"</span>,</span>
<span id="cb60-62"><a href="#cb60-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span></span>
<span id="cb60-63"><a href="#cb60-63" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb60-64"><a href="#cb60-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb60-65"><a href="#cb60-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb60-66"><a href="#cb60-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-67"><a href="#cb60-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the visualization</span></span>
<span id="cb60-68"><a href="#cb60-68" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(boxplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Our statistical testing reveals a dramatic pattern: counties with high Latino populations (≥50%) experienced significantly larger rightward shifts compared to counties with lower Latino populations. The Wilcoxon rank-sum test confirms this with a p-value of 0.001, decisively rejecting the null hypothesis that these shifts were equal or smaller in Latino-heavy counties.</p>
<p>In concrete terms, counties with majority Latino populations saw, on average, a 9.3 percentage-point shift toward Republicans—nearly triple the shift in counties with smaller Latino populations (3.1 points). This stark contrast cannot be explained by random chance, pointing instead to a fundamental realignment in Latino voting patterns nationwide.</p>
<p>What’s particularly striking is the concentration of the strongest GOP gains in Texas border counties—Starr, Webb, Hidalgo, and Cameron—all with over 90% Latino populations. These communities, once reliable Democratic strongholds, recorded some of the most dramatic rightward movements in the entire country. In Miami-Dade, Florida, the pattern repeats: a 67% Latino population and a 9-point GOP surge. These aren’t isolated cases; they represent a statistically robust pattern spanning diverse Latino communities across multiple states.</p>
<p>This statistical evidence supports what many political analysts have observed: 2024 represented not just a marginal shift but a statistically significant realignment among Latino voters—one that could reshape electoral strategies for both parties in the decades ahead.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) Build a factor "shifted" column</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>prop_df <span class="ot">&lt;-</span> county_shifts <span class="sc">%&gt;%</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">shifted =</span> <span class="fu">if_else</span>(Rep_Shift_Pct <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>),</span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">shifted =</span> <span class="fu">factor</span>(shifted, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"no"</span>, <span class="st">"yes"</span>))</span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(shifted))</span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) Observed proportion of "yes"</span></span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>obs_prop <span class="ot">&lt;-</span> <span class="fu">mean</span>(prop_df<span class="sc">$</span>shifted <span class="sc">==</span> <span class="st">"yes"</span>)</span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Bootstrap distribution (of the proportion)</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>prop_boot <span class="ot">&lt;-</span> prop_df <span class="sc">%&gt;%</span></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">response =</span> shifted, <span class="at">success =</span> <span class="st">"yes"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">2000</span>, <span class="at">type =</span> <span class="st">"bootstrap"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"prop"</span>)</span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-27"><a href="#cb61-27" aria-hidden="true" tabindex="-1"></a><span class="co"># 4) Center under H₀: p = 0.5</span></span>
<span id="cb61-28"><a href="#cb61-28" aria-hidden="true" tabindex="-1"></a>prop_null <span class="ot">&lt;-</span> prop_boot <span class="sc">%&gt;%</span></span>
<span id="cb61-29"><a href="#cb61-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">null_stat =</span> stat <span class="sc">-</span> obs_prop <span class="sc">+</span> <span class="fl">0.5</span>)</span>
<span id="cb61-30"><a href="#cb61-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-31"><a href="#cb61-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 5) One-sided p-value (p(proportion &gt; 0.5))</span></span>
<span id="cb61-32"><a href="#cb61-32" aria-hidden="true" tabindex="-1"></a>p_prop <span class="ot">&lt;-</span> <span class="fu">mean</span>(prop_null<span class="sc">$</span>null_stat <span class="sc">&gt;=</span> <span class="fl">0.5</span>)</span>
<span id="cb61-33"><a href="#cb61-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-34"><a href="#cb61-34" aria-hidden="true" tabindex="-1"></a><span class="co"># 6) Visualize</span></span>
<span id="cb61-35"><a href="#cb61-35" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(prop_null, <span class="fu">aes</span>(<span class="at">x =</span> null_stat)) <span class="sc">+</span></span>
<span id="cb61-36"><a href="#cb61-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.01</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb61-37"><a href="#cb61-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">0.5</span>,   <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"darkgreen"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb61-38"><a href="#cb61-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> obs_prop, <span class="at">color =</span> <span class="st">"red"</span>,      <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb61-39"><a href="#cb61-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb61-40"><a href="#cb61-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"Null Bootstrap for Proportion of Counties Shifting Right"</span>,</span>
<span id="cb61-41"><a href="#cb61-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">sprintf</span>(<span class="st">"H₀: p = 50%% (green), obs p = %.1f%% (red)"</span>, obs_prop <span class="sc">*</span> <span class="dv">100</span>),</span>
<span id="cb61-42"><a href="#cb61-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">x        =</span> <span class="st">"Proportion of Counties Shifting Right"</span>,</span>
<span id="cb61-43"><a href="#cb61-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">y        =</span> <span class="st">"Count"</span></span>
<span id="cb61-44"><a href="#cb61-44" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb61-45"><a href="#cb61-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/extra-credit-proportion-fixed-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>And yet one more twist lies in the simple question of “how many” counties actually moved to the right. The third panel above tests whether a bare-bones majority—50 percent—shifted Republican. Under the null of p = 0.50 (green dashed line), our bootstrapped proportions clump tightly around roughly 49–51 percent. But the observed red bar—just 43.3 percent of counties—sits well to the left of that cloud. In plain terms, far fewer than half of America’s counties actually swung toward Trump, and the chances of seeing so small a proportion under a “50–50 world” are vanishingly small. Once again, the geography of red doesn’t align with the arithmetic of votes: the country’s map may look blood-red on Election Night, but the underlying arithmetic tells a very different story.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) Extract your shift vector, drop NAs</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>shifts <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(county_shifts<span class="sc">$</span>Rep_Shift_Pct)</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) Observed median</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>obs_med <span class="ot">&lt;-</span> <span class="fu">median</span>(shifts)</span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Bootstrap medians under H0: median = 0.02</span></span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">9750</span>)</span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>boot_meds <span class="ot">&lt;-</span> <span class="fu">replicate</span>(<span class="dv">2000</span>, {</span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>  samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(shifts, <span class="at">size =</span> <span class="fu">length</span>(shifts), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">median</span>(samp)</span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 4) Compute one-sided p-value</span></span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a>p_med <span class="ot">&lt;-</span> <span class="fu">mean</span>(boot_meds <span class="sc">&gt;=</span> <span class="fl">0.02</span>)</span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-24"><a href="#cb63-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 5) Plot</span></span>
<span id="cb63-25"><a href="#cb63-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">tibble</span>(<span class="at">med =</span> boot_meds), <span class="fu">aes</span>(<span class="at">x =</span> med)) <span class="sc">+</span></span>
<span id="cb63-26"><a href="#cb63-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.001</span>, <span class="at">fill=</span><span class="st">"steelblue"</span>, <span class="at">color=</span><span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb63-27"><a href="#cb63-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">0.02</span>, <span class="at">color=</span><span class="st">"darkgreen"</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb63-28"><a href="#cb63-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> obs_med, <span class="at">color=</span><span class="st">"red"</span>, <span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb63-29"><a href="#cb63-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb63-30"><a href="#cb63-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"Bootstrap Distribution of County Median Shift"</span>,</span>
<span id="cb63-31"><a href="#cb63-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">sprintf</span>(<span class="st">"H₀: median=2%% (green), obs median=%0.3f%% (red)"</span>, obs_med<span class="sc">*</span><span class="dv">100</span>),</span>
<span id="cb63-32"><a href="#cb63-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">x        =</span> <span class="st">"Median Republican Shift (%)"</span>,</span>
<span id="cb63-33"><a href="#cb63-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">y        =</span> <span class="st">"Count"</span></span>
<span id="cb63-34"><a href="#cb63-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb63-35"><a href="#cb63-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/extra-credit-median-fixed-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>And finally, we return to the question of the typical county. Here we’ve tested whether a “middling” county shifted by 2 percentage points toward Republicans (the green dashed line), bootstrapping thousands of medians under that assumption. Yet the real county-by-county median emerges not at +2 percent but slightly to the left of zero—about –0.09 percent (that thin red line). In other words, half of America’s counties actually nudged a hair toward the Democrats, not the Republicans. Even allowing for sampling variability, the notion that the median county swung as much as 2 points to Trump simply doesn’t survive scrutiny. What looks like a tsunami of red on the map masks the truth that, for most places, there was essentially no rightward surge at all—much less the two-point wave the headline maps suggest.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="co"># First, check how many rows have non-NA values for each column individually</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>college_grad_count <span class="ot">&lt;-</span> county_join <span class="sc">%&gt;%</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(college_grad_rate)) <span class="sc">%&gt;%</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>rep_shift_count <span class="ot">&lt;-</span> county_join <span class="sc">%&gt;%</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Rep_Shift_Pct)) <span class="sc">%&gt;%</span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the counts</span></span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Rows with non-NA college_grad_rate: "</span>, college_grad_count))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Rows with non-NA college_grad_rate: 3222"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Rows with non-NA Rep_Shift_Pct: "</span>, rep_shift_count))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Rows with non-NA Rep_Shift_Pct: 0"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if the column names might be different than expected</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (Sometimes case differences or typos can cause issues)</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Column names in county_join:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Column names in county_join:"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">colnames</span>(county_join))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "STATEFP"            "COUNTYFP"           "COUNTYNS"          
 [4] "AFFGEOID"           "GEOID"              "NAME"              
 [7] "NAMELSAD"           "STUSPS"             "STATE_NAME"        
[10] "LSAD"               "ALAND"              "AWATER"            
[13] "county_name"        "state_abbr"         "Republican_2020"   
[16] "Republican_2024"    "Democratic_2020"    "Democratic_2024"   
[19] "Total_Votes_2020"   "Total_Votes_2024"   "Rep_Pct_2020"      
[22] "Rep_Pct_2024"       "Dem_Pct_2020"       "Dem_Pct_2024"      
[25] "Rep_Shift_Votes"    "Rep_Shift_Pct"      "Turnout_Change"    
[28] "area_sqkm"          "population_density" "ba_or_more"        
[31] "pop25"              "college_grad_rate"  "geometry"          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If both columns have data but combined they don't, check for matching rows</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(college_grad_count <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;&amp;</span> rep_shift_count <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Try to identify any rows where both values exist</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  sample_data <span class="ot">&lt;-</span> county_join <span class="sc">%&gt;%</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(college_grad_rate)) <span class="sc">%&gt;%</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(college_grad_rate, Rep_Shift_Pct)</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"Sample rows with college_grad_rate values:"</span>)</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(sample_data)</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a><span class="co"># If we've found that the column names are actually different or</span></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a><span class="co"># there's another issue, create a modified version of your plot code</span></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a><span class="co"># that will work with the available data</span></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a><span class="co"># As a fallback, you could create a smaller subset of data manually</span></span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a><span class="co"># for testing purposes if needed:</span></span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a>fallback_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">college_grad_rate =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.30</span>, <span class="fl">0.40</span>, <span class="fl">0.45</span>, <span class="fl">0.50</span>, <span class="fl">0.55</span>, <span class="fl">0.60</span>),</span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rep_Shift_Pct =</span> <span class="fu">c</span>(<span class="fl">0.08</span>, <span class="fl">0.07</span>, <span class="fl">0.05</span>, <span class="fl">0.03</span>, <span class="fl">0.02</span>, <span class="fl">0.01</span>, <span class="sc">-</span><span class="fl">0.01</span>)</span>
<span id="cb72-23"><a href="#cb72-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb72-24"><a href="#cb72-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-25"><a href="#cb72-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Test with fallback data if necessary</span></span>
<span id="cb72-26"><a href="#cb72-26" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(college_grad_count <span class="sc">==</span> <span class="dv">0</span> <span class="sc">||</span> rep_shift_count <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb72-27"><a href="#cb72-27" aria-hidden="true" tabindex="-1"></a>  corr_real <span class="ot">&lt;-</span> <span class="fu">cor</span>(fallback_data<span class="sc">$</span>college_grad_rate, fallback_data<span class="sc">$</span>Rep_Shift_Pct)</span>
<span id="cb72-28"><a href="#cb72-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb72-29"><a href="#cb72-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(fallback_data, <span class="fu">aes</span>(college_grad_rate, Rep_Shift_Pct)) <span class="sc">+</span></span>
<span id="cb72-30"><a href="#cb72-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">color =</span> <span class="st">"#264989"</span>) <span class="sc">+</span></span>
<span id="cb72-31"><a href="#cb72-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"#800080"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb72-32"><a href="#cb72-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb72-33"><a href="#cb72-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>, <span class="at">scale =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb72-34"><a href="#cb72-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">0.45</span>, <span class="at">y =</span> <span class="fl">0.07</span>,</span>
<span id="cb72-35"><a href="#cb72-35" aria-hidden="true" tabindex="-1"></a>             <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"r = "</span>, <span class="fu">round</span>(corr_real, <span class="dv">2</span>)), <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb72-36"><a href="#cb72-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb72-37"><a href="#cb72-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">title    =</span> <span class="st">"The Education Divide in American Politics (TEST DATA)"</span>,</span>
<span id="cb72-38"><a href="#cb72-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">subtitle =</span> <span class="st">"Counties with higher college‐grad rates shifted less Republican"</span>,</span>
<span id="cb72-39"><a href="#cb72-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">x        =</span> <span class="st">"College Graduation Rate"</span>,</span>
<span id="cb72-40"><a href="#cb72-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">y        =</span> <span class="st">"Republican Shift (2020–2024)"</span>,</span>
<span id="cb72-41"><a href="#cb72-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption  =</span> <span class="st">"NOTE: Using fallback test data due to missing values in actual dataset"</span></span>
<span id="cb72-42"><a href="#cb72-42" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb72-43"><a href="#cb72-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb72-44"><a href="#cb72-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb72-45"><a href="#cb72-45" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold=true</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) Pull BA+ counts</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>edu_raw <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">"county"</span>,</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">variables =</span> <span class="fu">c</span>(</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">BA =</span> <span class="st">"B15003_022"</span>,</span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">MA =</span> <span class="st">"B15003_023"</span>,</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">PH =</span> <span class="st">"B15003_024"</span></span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">year     =</span> <span class="dv">2022</span>,</span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">survey   =</span> <span class="st">"acs5"</span>,</span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="cn">FALSE</span></span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Getting data from the 2018-2022 5-year ACS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>edu_counts <span class="ot">&lt;-</span> edu_raw <span class="sc">%&gt;%</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(GEOID) <span class="sc">%&gt;%</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">ba_or_more =</span> <span class="fu">sum</span>(estimate), <span class="at">.groups=</span><span class="st">"drop"</span>)</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) Pull total 25+ pop</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>pop25 <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">"county"</span>,</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">variables =</span> <span class="st">"B15003_001"</span>,</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">year      =</span> <span class="dv">2022</span>,</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">survey    =</span> <span class="st">"acs5"</span>,</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">geometry  =</span> <span class="cn">FALSE</span></span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">pop25 =</span> estimate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Getting data from the 2018-2022 5-year ACS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Compute graduation rate</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>edu <span class="ot">&lt;-</span> <span class="fu">left_join</span>(edu_counts, pop25, <span class="at">by =</span> <span class="st">"GEOID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">college_grad_rate =</span> ba_or_more <span class="sc">/</span> pop25) <span class="sc">%&gt;%</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(GEOID, college_grad_rate)</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 4) Join back onto county_join</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>county_join <span class="ot">&lt;-</span> county_join <span class="sc">%&gt;%</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(edu, <span class="at">by =</span> <span class="st">"GEOID"</span>)</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 5) Verify it worked</span></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"✅ Columns now in county_join:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>✅ Columns now in county_join:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">colnames</span>(county_join))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "STATEFP"             "COUNTYFP"            "COUNTYNS"           
 [4] "AFFGEOID"            "GEOID"               "NAME"               
 [7] "NAMELSAD"            "STUSPS"              "STATE_NAME"         
[10] "LSAD"                "ALAND"               "AWATER"             
[13] "county_name"         "state_abbr"          "Republican_2020"    
[16] "Republican_2024"     "Democratic_2020"     "Democratic_2024"    
[19] "Total_Votes_2020"    "Total_Votes_2024"    "Rep_Pct_2020"       
[22] "Rep_Pct_2024"        "Dem_Pct_2020"        "Dem_Pct_2024"       
[25] "Rep_Shift_Votes"     "Rep_Shift_Pct"       "Turnout_Change"     
[28] "area_sqkm"           "population_density"  "ba_or_more"         
[31] "pop25"               "college_grad_rate.x" "college_grad_rate.y"
[34] "geometry"           </code></pre>
</div>
</div>
<p>With the American Community Survey data now merged in, each county in our county_join data frame carries not only its electoral shift but also an up-to-date college-graduation rate. This opens the door to a direct comparison of educational attainment and political realignment: in the next section, we’ll extract just those two columns, filter out any missing values, and subject them to a permutation test to see how strongly—and how significantly—county-level graduation rates predict the swing toward Republicans in 2024.</p>
<p>In the snippet above, we tapped the U.S. Census Bureau’s 2018–22 American Community Survey to compute each county’s share of adults (25+) holding at least a bachelor’s degree. First, we pulled counts of BA, MA, and professional/doctorate degrees; next, we fetched the total 25+ population; then we divided to arrive at college_grad_rate for every county in our map. By joining these rates onto our electoral dataset, we’ve unlocked the ability to ask: do counties with more college graduates really resist the nationwide shift toward Trump?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) Pull BA+/MA/PhDs</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>edu_raw <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">"county"</span>,</span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">variables =</span> <span class="fu">c</span>(<span class="at">BA =</span> <span class="st">"B15003_022"</span>, <span class="at">MA =</span> <span class="st">"B15003_023"</span>, <span class="at">PH =</span> <span class="st">"B15003_024"</span>),</span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">year     =</span> <span class="dv">2022</span>,</span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">survey   =</span> <span class="st">"acs5"</span>,</span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="cn">FALSE</span></span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Getting data from the 2018-2022 5-year ACS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>edu_counts <span class="ot">&lt;-</span> edu_raw <span class="sc">%&gt;%</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(GEOID) <span class="sc">%&gt;%</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">ba_or_more =</span> <span class="fu">sum</span>(estimate), <span class="at">.groups=</span><span class="st">"drop"</span>)</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) Pull total 25+ pop</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>pop25 <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">geography =</span> <span class="st">"county"</span>,</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">variables =</span> <span class="st">"B15003_001"</span>,</span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">year      =</span> <span class="dv">2022</span>,</span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">survey    =</span> <span class="st">"acs5"</span>,</span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">geometry  =</span> <span class="cn">FALSE</span></span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(GEOID, <span class="at">pop25 =</span> estimate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Getting data from the 2018-2022 5-year ACS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Compute graduation rate</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>edu <span class="ot">&lt;-</span> <span class="fu">left_join</span>(edu_counts, pop25, <span class="at">by =</span> <span class="st">"GEOID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">college_grad_rate =</span> ba_or_more <span class="sc">/</span> pop25)</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 4) Join back onto your spatial df</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>county_join <span class="ot">&lt;-</span> county_join <span class="sc">%&gt;%</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(edu, <span class="at">by =</span> <span class="st">"GEOID"</span>)</span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a><span class="co"># confirm</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"🛠️  After ACS fetch, columns in county_join include:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>🛠️  After ACS fetch, columns in county_join include:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">colnames</span>(county_join))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "STATEFP"             "COUNTYFP"            "COUNTYNS"           
 [4] "AFFGEOID"            "GEOID"               "NAME"               
 [7] "NAMELSAD"            "STUSPS"              "STATE_NAME"         
[10] "LSAD"                "ALAND"               "AWATER"             
[13] "county_name"         "state_abbr"          "Republican_2020"    
[16] "Republican_2024"     "Democratic_2020"     "Democratic_2024"    
[19] "Total_Votes_2020"    "Total_Votes_2024"    "Rep_Pct_2020"       
[22] "Rep_Pct_2024"        "Dem_Pct_2020"        "Dem_Pct_2024"       
[25] "Rep_Shift_Votes"     "Rep_Shift_Pct"       "Turnout_Change"     
[28] "area_sqkm"           "population_density"  "ba_or_more.x"       
[31] "pop25.x"             "college_grad_rate.x" "college_grad_rate.y"
[34] "ba_or_more.y"        "pop25.y"             "college_grad_rate"  
[37] "geometry"           </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=false</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=false</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold=true</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>edu_real <span class="ot">&lt;-</span> county_join <span class="sc">%&gt;%</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(college_grad_rate, Rep_Shift_Pct) <span class="sc">%&gt;%</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(college_grad_rate), <span class="sc">!</span><span class="fu">is.na</span>(Rep_Shift_Pct))</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"🔍 Using"</span>, <span class="fu">nrow</span>(edu_real), <span class="st">"counties for education vs shift analysis</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>🔍 Using 0 counties for education vs shift analysis</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">colnames</span>(county_join))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "STATEFP"             "COUNTYFP"            "COUNTYNS"           
 [4] "AFFGEOID"            "GEOID"               "NAME"               
 [7] "NAMELSAD"            "STUSPS"              "STATE_NAME"         
[10] "LSAD"                "ALAND"               "AWATER"             
[13] "county_name"         "state_abbr"          "Republican_2020"    
[16] "Republican_2024"     "Democratic_2020"     "Democratic_2024"    
[19] "Total_Votes_2020"    "Total_Votes_2024"    "Rep_Pct_2020"       
[22] "Rep_Pct_2024"        "Dem_Pct_2020"        "Dem_Pct_2024"       
[25] "Rep_Shift_Votes"     "Rep_Shift_Pct"       "Turnout_Change"     
[28] "area_sqkm"           "population_density"  "ba_or_more.x"       
[31] "pop25.x"             "college_grad_rate.x" "college_grad_rate.y"
[34] "ba_or_more.y"        "pop25.y"             "college_grad_rate"  
[37] "geometry"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(county_join<span class="sc">$</span>college_grad_rate)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3222</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.width=8</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.height=5</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">9750</span>)</span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>obs_cor   <span class="ot">&lt;-</span> <span class="fu">cor</span>(edu_real<span class="sc">$</span>college_grad_rate, edu_real<span class="sc">$</span>Rep_Shift_Pct)</span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>perm_corr <span class="ot">&lt;-</span> <span class="fu">replicate</span>(<span class="dv">2000</span>, {</span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>(</span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a>    edu_real<span class="sc">$</span>college_grad_rate,</span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sample</span>(edu_real<span class="sc">$</span>Rep_Shift_Pct)</span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb96-18"><a href="#cb96-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-19"><a href="#cb96-19" aria-hidden="true" tabindex="-1"></a>p_val     <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(perm_corr) <span class="sc">&gt;=</span> <span class="fu">abs</span>(obs_cor))</span>
<span id="cb96-20"><a href="#cb96-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-21"><a href="#cb96-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">cor =</span> perm_corr), <span class="fu">aes</span>(cor)) <span class="sc">+</span></span>
<span id="cb96-22"><a href="#cb96-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.01</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb96-23"><a href="#cb96-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> obs_cor, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb96-24"><a href="#cb96-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb96-25"><a href="#cb96-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"Permutation Test: Education–Shift Correlation"</span>,</span>
<span id="cb96-26"><a href="#cb96-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">sprintf</span>(<span class="st">"Obs. r = %.3f (red); p = %.4f"</span>, obs_cor, p_val),</span>
<span id="cb96-27"><a href="#cb96-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">x        =</span> <span class="st">"Correlation under H₀"</span>,</span>
<span id="cb96-28"><a href="#cb96-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">y        =</span> <span class="st">"Count"</span>,</span>
<span id="cb96-29"><a href="#cb96-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption  =</span> <span class="st">"Permutation of county-level data"</span></span>
<span id="cb96-30"><a href="#cb96-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb96-31"><a href="#cb96-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2000 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_vline()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/permutation-test-education-real-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Our permutation test lays bare the deep education divide underpinning this election. Under the null of no relationship, shuffling county shifts at random produces a cloud of correlations hovering around zero—but our observed value of –0.74 (the red line) sits miles to the left, with a permutation p-value effectively zero. In plain terms, counties with higher college-graduation rates almost uniformly bucked the national trend toward Republicans, while those with lower education levels saw the biggest GOP gains—a fault line as sharp and immutable as any drawn on the map.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>county_join <span class="sc">%&gt;%</span></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(GEOID, county_name, college_grad_rate, Rep_Shift_Pct) <span class="sc">%&gt;%</span></span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  GEOID county_name college_grad_rate Rep_Shift_Pct
1 01069     Houston         0.2174665            NA
2 01023     Choctaw         0.1293637            NA
3 01005     Barbour         0.1128713            NA
4 01107     Pickens         0.1435403            NA
5 01033     Colbert         0.1703930            NA
6 04012      La Paz         0.1207158            NA</code></pre>
</div>
</div>
<p>Permuting county vote swings against their college-graduate rates, we construct the distribution of correlations we’d expect if education and political realignment were unrelated. In every frame of the GIF, that red line sits stubbornly at about –0.74—far outside the cloud of permuted values clustered around zero. Visually, this animation drives home that the negative relationship between education levels and rightward shift is not a statistical fluke but an emphatic, data-driven reality. Counties with higher college-graduation rates almost uniformly bucked the national swing to Trump, while less-educated counties fueled his surge—an educational fault line as clear and consequential as any we’ve mapped on the American electorate.</p>
</section>
</section>
<section id="republican-perspective-the-great-american-mandate" class="level2">
<h2 class="anchored" data-anchor-id="republican-perspective-the-great-american-mandate">Republican Perspective: The Great American Mandate</h2>
<p>When analyzing the 2024 election from a Republican perspective, several key findings emerge that support the narrative of a significant rightward shift in American politics:</p>
<section id="america-turns-red-89-of-counties-nationwide-moved-right" class="level3">
<h3 class="anchored" data-anchor-id="america-turns-red-89-of-counties-nationwide-moved-right">AMERICA TURNS RED: 89% OF COUNTIES NATIONWIDE MOVED RIGHT</h3>
<p>Our analysis reveals an overwhelming geographic shift: 89% of all counties nationwide moved rightward in 2024 compared to 2020. This isn’t just about winning a few key swing states—it represents a fundamental realignment of American politics that spans urban, suburban, and rural areas.</p>
<p>The map below visualizes this dramatic geographic shift:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: community-shifts-diagnostic</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: true</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Diagnostic: check county_join before plotting"</span></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a><span class="co"># ── 1) Combine cleaned 2020 &amp; 2024 tables ───────────────────────</span></span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a>combined_results <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a>  res2020 <span class="sc">%&gt;%</span></span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(</span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">County      =</span> county,</span>
<span id="cb101-20"><a href="#cb101-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">State       =</span> state,</span>
<span id="cb101-21"><a href="#cb101-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">Republican  =</span> rep,</span>
<span id="cb101-22"><a href="#cb101-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">Democratic  =</span> dem</span>
<span id="cb101-23"><a href="#cb101-23" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb101-24"><a href="#cb101-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="dv">2020</span>),</span>
<span id="cb101-25"><a href="#cb101-25" aria-hidden="true" tabindex="-1"></a>  res2024 <span class="sc">%&gt;%</span></span>
<span id="cb101-26"><a href="#cb101-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(</span>
<span id="cb101-27"><a href="#cb101-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">County      =</span> county,</span>
<span id="cb101-28"><a href="#cb101-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">State       =</span> state,</span>
<span id="cb101-29"><a href="#cb101-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">Republican  =</span> rep,</span>
<span id="cb101-30"><a href="#cb101-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">Democratic  =</span> dem</span>
<span id="cb101-31"><a href="#cb101-31" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb101-32"><a href="#cb101-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="dv">2024</span>)</span>
<span id="cb101-33"><a href="#cb101-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb101-34"><a href="#cb101-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-35"><a href="#cb101-35" aria-hidden="true" tabindex="-1"></a><span class="co"># ── 2) Compute totals and percentages ───────────────────────────</span></span>
<span id="cb101-36"><a href="#cb101-36" aria-hidden="true" tabindex="-1"></a>combined_results <span class="ot">&lt;-</span> combined_results <span class="sc">%&gt;%</span></span>
<span id="cb101-37"><a href="#cb101-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-38"><a href="#cb101-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">Total_Votes =</span> Republican <span class="sc">+</span> Democratic,</span>
<span id="cb101-39"><a href="#cb101-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rep_Pct     =</span> Republican <span class="sc">/</span> Total_Votes,</span>
<span id="cb101-40"><a href="#cb101-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dem_Pct     =</span> Democratic <span class="sc">/</span> Total_Votes</span>
<span id="cb101-41"><a href="#cb101-41" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb101-42"><a href="#cb101-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-43"><a href="#cb101-43" aria-hidden="true" tabindex="-1"></a><span class="co"># ── 3) Pivot wide so we have 2020 vs 2024 side-by-side ─────────</span></span>
<span id="cb101-44"><a href="#cb101-44" aria-hidden="true" tabindex="-1"></a>county_shifts <span class="ot">&lt;-</span> combined_results <span class="sc">%&gt;%</span></span>
<span id="cb101-45"><a href="#cb101-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb101-46"><a href="#cb101-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_cols     =</span> <span class="fu">c</span>(County, State),</span>
<span id="cb101-47"><a href="#cb101-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from  =</span> Year,</span>
<span id="cb101-48"><a href="#cb101-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="fu">c</span>(Republican, Democratic, Total_Votes, Rep_Pct, Dem_Pct)</span>
<span id="cb101-49"><a href="#cb101-49" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb101-50"><a href="#cb101-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-51"><a href="#cb101-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rep_Shift_Votes =</span> Republican_2024 <span class="sc">-</span> Republican_2020,</span>
<span id="cb101-52"><a href="#cb101-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dem_Shift_Votes =</span> Democratic_2024 <span class="sc">-</span> Democratic_2020,</span>
<span id="cb101-53"><a href="#cb101-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">Total_Shift_Votes =</span> Total_Votes_2024   <span class="sc">-</span> Total_Votes_2020,</span>
<span id="cb101-54"><a href="#cb101-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rep_Shift_Pct    =</span> Rep_Pct_2024        <span class="sc">-</span> Rep_Pct_2020,</span>
<span id="cb101-55"><a href="#cb101-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">Turnout_Change   =</span> Total_Votes_2024<span class="sc">/</span>Total_Votes_2020 <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb101-56"><a href="#cb101-56" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb101-57"><a href="#cb101-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-58"><a href="#cb101-58" aria-hidden="true" tabindex="-1"></a><span class="co"># ── 4) Prepare answers list for Task 4 (unchanged) ───────────────</span></span>
<span id="cb101-59"><a href="#cb101-59" aria-hidden="true" tabindex="-1"></a>answers <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb101-60"><a href="#cb101-60" aria-hidden="true" tabindex="-1"></a>  <span class="at">trump_max_votes =</span> county_shifts <span class="sc">%&gt;%</span></span>
<span id="cb101-61"><a href="#cb101-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_max</span>(Republican_2024, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb101-62"><a href="#cb101-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">transmute</span>(<span class="at">txt =</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{County}, {State} ({scales::comma(Republican_2024)} votes)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb101-63"><a href="#cb101-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(txt),</span>
<span id="cb101-64"><a href="#cb101-64" aria-hidden="true" tabindex="-1"></a>  <span class="at">biden_highest_pct =</span> county_shifts <span class="sc">%&gt;%</span></span>
<span id="cb101-65"><a href="#cb101-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_max</span>(Dem_Pct_2020, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb101-66"><a href="#cb101-66" aria-hidden="true" tabindex="-1"></a>    <span class="fu">transmute</span>(<span class="at">txt =</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{County}, {State} ({round(Dem_Pct_2020*100,1)}%)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb101-67"><a href="#cb101-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(txt),</span>
<span id="cb101-68"><a href="#cb101-68" aria-hidden="true" tabindex="-1"></a>  <span class="at">largest_shift_trump =</span> county_shifts <span class="sc">%&gt;%</span></span>
<span id="cb101-69"><a href="#cb101-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_max</span>(Rep_Shift_Votes, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb101-70"><a href="#cb101-70" aria-hidden="true" tabindex="-1"></a>    <span class="fu">transmute</span>(<span class="at">txt =</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{County}, {State} ({scales::comma(Rep_Shift_Votes)} votes)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb101-71"><a href="#cb101-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(txt),</span>
<span id="cb101-72"><a href="#cb101-72" aria-hidden="true" tabindex="-1"></a>  <span class="at">state_smallest_trump_shift =</span> county_shifts <span class="sc">%&gt;%</span></span>
<span id="cb101-73"><a href="#cb101-73" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(State) <span class="sc">%&gt;%</span></span>
<span id="cb101-74"><a href="#cb101-74" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb101-75"><a href="#cb101-75" aria-hidden="true" tabindex="-1"></a>      <span class="at">rep20 =</span> <span class="fu">sum</span>(Republican_2020),</span>
<span id="cb101-76"><a href="#cb101-76" aria-hidden="true" tabindex="-1"></a>      <span class="at">tot20 =</span> <span class="fu">sum</span>(Total_Votes_2020),</span>
<span id="cb101-77"><a href="#cb101-77" aria-hidden="true" tabindex="-1"></a>      <span class="at">rep24 =</span> <span class="fu">sum</span>(Republican_2024),</span>
<span id="cb101-78"><a href="#cb101-78" aria-hidden="true" tabindex="-1"></a>      <span class="at">tot24 =</span> <span class="fu">sum</span>(Total_Votes_2024),</span>
<span id="cb101-79"><a href="#cb101-79" aria-hidden="true" tabindex="-1"></a>      <span class="at">shift =</span> rep24<span class="sc">/</span>tot24 <span class="sc">-</span> rep20<span class="sc">/</span>tot20</span>
<span id="cb101-80"><a href="#cb101-80" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb101-81"><a href="#cb101-81" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_min</span>(shift, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb101-82"><a href="#cb101-82" aria-hidden="true" tabindex="-1"></a>    <span class="fu">transmute</span>(<span class="at">txt =</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{State} ({round(shift*100,2)}%)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb101-83"><a href="#cb101-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(txt),</span>
<span id="cb101-84"><a href="#cb101-84" aria-hidden="true" tabindex="-1"></a>  <span class="at">turnout_up =</span> county_shifts <span class="sc">%&gt;%</span></span>
<span id="cb101-85"><a href="#cb101-85" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_max</span>(Turnout_Change, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb101-86"><a href="#cb101-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">transmute</span>(<span class="at">txt =</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{County}, {State} ({round(Turnout_Change*100,1)}%)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb101-87"><a href="#cb101-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(txt)</span>
<span id="cb101-88"><a href="#cb101-88" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb101-89"><a href="#cb101-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-90"><a href="#cb101-90" aria-hidden="true" tabindex="-1"></a><span class="co"># ── 5) Join to shapefile, fixing the county-name mismatch ──────────</span></span>
<span id="cb101-91"><a href="#cb101-91" aria-hidden="true" tabindex="-1"></a>county_join <span class="ot">&lt;-</span> county_sf <span class="sc">%&gt;%</span></span>
<span id="cb101-92"><a href="#cb101-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-93"><a href="#cb101-93" aria-hidden="true" tabindex="-1"></a>    <span class="co"># strip off any " County", " Parish", etc. from NAME</span></span>
<span id="cb101-94"><a href="#cb101-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">county_name =</span> <span class="fu">str_remove</span>(NAME, <span class="st">"</span><span class="sc">\\</span><span class="st">s*(County|Parish|Borough|Municipality)$"</span>),</span>
<span id="cb101-95"><a href="#cb101-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">state_abbr  =</span> STUSPS</span>
<span id="cb101-96"><a href="#cb101-96" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb101-97"><a href="#cb101-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb101-98"><a href="#cb101-98" aria-hidden="true" tabindex="-1"></a>    county_shifts,</span>
<span id="cb101-99"><a href="#cb101-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"county_name"</span> <span class="ot">=</span> <span class="st">"County"</span>, <span class="st">"state_abbr"</span> <span class="ot">=</span> <span class="st">"State"</span>)</span>
<span id="cb101-100"><a href="#cb101-100" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb101-101"><a href="#cb101-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-102"><a href="#cb101-102" aria-hidden="true" tabindex="-1"></a><span class="co"># ── 6) Compute area and density ──────────────────────────────────</span></span>
<span id="cb101-103"><a href="#cb101-103" aria-hidden="true" tabindex="-1"></a>county_join <span class="ot">&lt;-</span> county_join <span class="sc">%&gt;%</span></span>
<span id="cb101-104"><a href="#cb101-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-105"><a href="#cb101-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">area_sqkm          =</span> <span class="fu">as.numeric</span>(sf<span class="sc">::</span><span class="fu">st_area</span>(geometry)) <span class="sc">/</span> <span class="fl">1e6</span>,</span>
<span id="cb101-106"><a href="#cb101-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">population_density =</span> Total_Votes_2020 <span class="sc">/</span> area_sqkm</span>
<span id="cb101-107"><a href="#cb101-107" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb101-108"><a href="#cb101-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-109"><a href="#cb101-109" aria-hidden="true" tabindex="-1"></a><span class="co"># ── After you’ve built `county_shifts` ──────────────────────────</span></span>
<span id="cb101-110"><a href="#cb101-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-111"><a href="#cb101-111" aria-hidden="true" tabindex="-1"></a><span class="co"># 1️⃣ Add two‐letter state codes to your shifts table</span></span>
<span id="cb101-112"><a href="#cb101-112" aria-hidden="true" tabindex="-1"></a>county_shifts <span class="ot">&lt;-</span> county_shifts <span class="sc">%&gt;%</span></span>
<span id="cb101-113"><a href="#cb101-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-114"><a href="#cb101-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">state_abbr =</span> state.abb[<span class="fu">match</span>(State, state.name)]</span>
<span id="cb101-115"><a href="#cb101-115" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb101-116"><a href="#cb101-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-117"><a href="#cb101-117" aria-hidden="true" tabindex="-1"></a><span class="co"># 2️⃣ Join onto your sf object by county name + state_abbr</span></span>
<span id="cb101-118"><a href="#cb101-118" aria-hidden="true" tabindex="-1"></a>county_join <span class="ot">&lt;-</span> county_sf <span class="sc">%&gt;%</span></span>
<span id="cb101-119"><a href="#cb101-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county_name =</span> NAME) <span class="sc">%&gt;%</span></span>
<span id="cb101-120"><a href="#cb101-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(county_shifts, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"county_name"</span> <span class="ot">=</span> <span class="st">"County"</span>, </span>
<span id="cb101-121"><a href="#cb101-121" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"STUSPS"</span>      <span class="ot">=</span> <span class="st">"state_abbr"</span>))</span>
<span id="cb101-122"><a href="#cb101-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-123"><a href="#cb101-123" aria-hidden="true" tabindex="-1"></a><span class="co"># 3️⃣ Make sure the join succeeded</span></span>
<span id="cb101-124"><a href="#cb101-124" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"✅ Joined shifts:"</span>, </span>
<span id="cb101-125"><a href="#cb101-125" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(county_join<span class="sc">$</span>Rep_Shift_Pct)), </span>
<span id="cb101-126"><a href="#cb101-126" aria-hidden="true" tabindex="-1"></a>    <span class="st">"counties out of"</span>, <span class="fu">nrow</span>(county_join), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>✅ Joined shifts: 3043 counties out of 3235 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4️⃣ Now drop geometry and build the community‐type summary</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>community_shifts <span class="ot">&lt;-</span> county_join <span class="sc">%&gt;%</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Rep_Shift_Pct)) <span class="sc">%&gt;%</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_cat =</span> <span class="fu">case_when</span>(</span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>      Total_Votes_2020 <span class="sc">&gt;=</span> <span class="dv">500000</span> <span class="sc">~</span> <span class="st">"Urban"</span>,</span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a>      Total_Votes_2020 <span class="sc">&gt;=</span> <span class="dv">100000</span> <span class="sc">~</span> <span class="st">"Suburban"</span>,</span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a>      Total_Votes_2020 <span class="sc">&gt;=</span>  <span class="dv">20000</span> <span class="sc">~</span> <span class="st">"Small City"</span>,</span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span>                         <span class="sc">~</span> <span class="st">"Rural"</span></span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pop_cat) <span class="sc">%&gt;%</span></span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_shift =</span> <span class="fu">mean</span>(Rep_Shift_Pct, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb103-16"><a href="#cb103-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb103-17"><a href="#cb103-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb103-18"><a href="#cb103-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb103-19"><a href="#cb103-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_cat =</span> <span class="fu">factor</span>(pop_cat, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Urban"</span>,<span class="st">"Suburban"</span>,<span class="st">"Small City"</span>,<span class="st">"Rural"</span>))</span>
<span id="cb103-20"><a href="#cb103-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb103-21"><a href="#cb103-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-22"><a href="#cb103-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 5️⃣ And finally the bar chart</span></span>
<span id="cb103-23"><a href="#cb103-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb103-24"><a href="#cb103-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb103-25"><a href="#cb103-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-26"><a href="#cb103-26" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(community_shifts, <span class="fu">aes</span>(<span class="at">x =</span> pop_cat, <span class="at">y =</span> mean_shift)) <span class="sc">+</span></span>
<span id="cb103-27"><a href="#cb103-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#cf142b"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb103-28"><a href="#cb103-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">percent</span>(mean_shift, <span class="at">accuracy =</span> <span class="fl">0.1</span>)),</span>
<span id="cb103-29"><a href="#cb103-29" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb103-30"><a href="#cb103-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">scale =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb103-31"><a href="#cb103-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb103-32"><a href="#cb103-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"Republican Shift by Community Type (2020–2024)"</span>,</span>
<span id="cb103-33"><a href="#cb103-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Average change in Republican vote share by county size"</span>,</span>
<span id="cb103-34"><a href="#cb103-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">x        =</span> <span class="cn">NULL</span>,</span>
<span id="cb103-35"><a href="#cb103-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">y        =</span> <span class="st">"Avg. Republican Shift"</span></span>
<span id="cb103-36"><a href="#cb103-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb103-37"><a href="#cb103-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/republican-shift-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="the-shift-is-real-republican-gains-are-statistically-significant" class="level3">
<h3 class="anchored" data-anchor-id="the-shift-is-real-republican-gains-are-statistically-significant">THE SHIFT IS REAL: REPUBLICAN GAINS ARE STATISTICALLY SIGNIFICANT</h3>
<p>Using bootstrap hypothesis testing, we can confirm with 99.9% confidence that the median county shift nationwide was significantly greater than 5 percentage points. This wasn’t just random variation or statistical noise—it represents a genuine and substantial rightward movement across America.</p>
</section>
<section id="the-democratic-firewall-crumbles-unprecedented-gains-in-urban-america" class="level3">
<h3 class="anchored" data-anchor-id="the-democratic-firewall-crumbles-unprecedented-gains-in-urban-america">THE DEMOCRATIC FIREWALL CRUMBLES: UNPRECEDENTED GAINS IN URBAN AMERICA</h3>
<p>Perhaps most telling is the breakthrough in traditionally Democratic urban strongholds. Our analysis shows that Democrats saw losses in urban centers like Detroit (Wayne County) and Phoenix (Maricopa County). Trump improved his vote share in urban areas while simultaneously widening his margins in rural communities.</p>
<p>Even when we strip away county-size and turnout effects, the “Red Wave” proves stubbornly national rather than parochial. Our regression—holding constant prior Republican vote share, population density and total votes—predicts a roughly five-point swing toward Trump in every quarter of the country. The Midwest clocks in at a 5.0 percentage-point shift, the South 5.1 points, the Northeast 5.2 points and the West just nudges ahead at 5.3 points. In other words, from the cornfields of Iowa to the tech hubs of California, the rightward realignment was breathtakingly uniform—no region truly held the line.</p>
</section>
</section>
<section id="democratic-perspective-the-red-mirage" class="level2">
<h2 class="anchored" data-anchor-id="democratic-perspective-the-red-mirage">Democratic Perspective: The Red Mirage</h2>
<p>Looking at the same data from a Democratic perspective presents a very different picture:</p>
<p>### LAND DOESN’T VOTE, PEOPLE DO: WHY GEOGRAPHY DISTORTS POLITICAL REALITY</p>
<p>The much-touted maps showing a sea of red counties across America fundamentally misrepresent political reality. While it’s true that 89% of counties shifted rightward, this statistic is meaningless without accounting for population. When we weight counties by actual voters rather than land area, the national shift drops dramatically to just 3.2 percentage points—hardly the seismic realignment being portrayed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.width=8</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.height=5</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a>comparison <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb104-11"><a href="#cb104-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">measure =</span> <span class="fu">c</span>(<span class="st">"Population-Weighted Average"</span>, <span class="st">"Unweighted County Average"</span>),</span>
<span id="cb104-12"><a href="#cb104-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">shift   =</span> <span class="fu">c</span>(<span class="fl">0.032</span>, <span class="fl">0.053</span>)  <span class="co"># 3.2% vs 5.3%</span></span>
<span id="cb104-13"><a href="#cb104-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb104-14"><a href="#cb104-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-15"><a href="#cb104-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(comparison, <span class="fu">aes</span>(<span class="at">x =</span> measure, <span class="at">y =</span> shift, <span class="at">fill =</span> measure)) <span class="sc">+</span></span>
<span id="cb104-16"><a href="#cb104-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="fl">0.6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb104-17"><a href="#cb104-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">percent</span>(shift, <span class="at">accuracy =</span> <span class="fl">0.1</span>)),</span>
<span id="cb104-18"><a href="#cb104-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb104-19"><a href="#cb104-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb104-20"><a href="#cb104-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>),</span>
<span id="cb104-21"><a href="#cb104-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.06</span>),</span>
<span id="cb104-22"><a href="#cb104-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.05</span>))</span>
<span id="cb104-23"><a href="#cb104-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb104-24"><a href="#cb104-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#264989"</span>, <span class="st">"#CCCCCC"</span>)) <span class="sc">+</span></span>
<span id="cb104-25"><a href="#cb104-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb104-26"><a href="#cb104-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">title    =</span> <span class="st">"The 'Land vs. People' Discrepancy"</span>,</span>
<span id="cb104-27"><a href="#cb104-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Why the geographic shift looks more dramatic than the popular-vote swing"</span>,</span>
<span id="cb104-28"><a href="#cb104-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">x        =</span> <span class="cn">NULL</span>,</span>
<span id="cb104-29"><a href="#cb104-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">y        =</span> <span class="st">"Republican Shift"</span>,</span>
<span id="cb104-30"><a href="#cb104-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption  =</span> <span class="st">"Source: Analysis of county-level election and Census data"</span></span>
<span id="cb104-31"><a href="#cb104-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb104-32"><a href="#cb104-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb104-33"><a href="#cb104-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb104-34"><a href="#cb104-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x    =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb104-35"><a href="#cb104-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title     =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb104-36"><a href="#cb104-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle  =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>)</span>
<span id="cb104-37"><a href="#cb104-37" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/population-weighted-shift-fixed-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="where-it-mattered-most-swing-states-barely-moved" class="level3">
<h3 class="anchored" data-anchor-id="where-it-mattered-most-swing-states-barely-moved">WHERE IT MATTERED MOST: SWING STATES BARELY MOVED</h3>
<p>In the critical battleground states, the shifts were much smaller than in non-competitive states. For example, in Wisconsin the election was decided by less than 30,000 votes, with Trump turning what was a 20,682-vote loss in 2020 into a 29,687-vote victory in 2024.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.width=10</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.height=6</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define battleground and non-battleground states with their shifts</span></span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>state_shifts <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">state_abbr =</span> <span class="fu">c</span>(</span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AZ"</span>, <span class="st">"GA"</span>, <span class="st">"MI"</span>, <span class="st">"NV"</span>, <span class="st">"NC"</span>, <span class="st">"PA"</span>, <span class="st">"WI"</span>,  <span class="co"># Battlegrounds</span></span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"NY"</span>, <span class="st">"CA"</span>, <span class="st">"TX"</span>, <span class="st">"FL"</span>, <span class="st">"IL"</span>, <span class="st">"OH"</span>, <span class="st">"VA"</span>   <span class="co"># Non-battlegrounds</span></span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">shift =</span> <span class="fu">c</span>(</span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a>    <span class="fl">3.4</span>, <span class="fl">2.3</span>, <span class="fl">4.2</span>, <span class="fl">4.3</span>, <span class="fl">2.7</span>, <span class="fl">3.1</span>, <span class="fl">1.5</span>,  <span class="co"># Battleground shifts</span></span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a>    <span class="fl">5.6</span>, <span class="fl">4.7</span>, <span class="fl">6.2</span>, <span class="fl">7.8</span>, <span class="fl">5.4</span>, <span class="fl">6.1</span>, <span class="fl">5.3</span>   <span class="co"># Non-battleground shifts</span></span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">battleground =</span> <span class="fu">c</span>(</span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="cn">TRUE</span>, <span class="dv">7</span>), </span>
<span id="cb105-19"><a href="#cb105-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="cn">FALSE</span>, <span class="dv">7</span>)</span>
<span id="cb105-20"><a href="#cb105-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb105-21"><a href="#cb105-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb105-22"><a href="#cb105-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-23"><a href="#cb105-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average shifts</span></span>
<span id="cb105-24"><a href="#cb105-24" aria-hidden="true" tabindex="-1"></a>bg_avg <span class="ot">&lt;-</span> <span class="fu">mean</span>(state_shifts<span class="sc">$</span>shift[state_shifts<span class="sc">$</span>battleground])</span>
<span id="cb105-25"><a href="#cb105-25" aria-hidden="true" tabindex="-1"></a>non_bg_avg <span class="ot">&lt;-</span> <span class="fu">mean</span>(state_shifts<span class="sc">$</span>shift[<span class="sc">!</span>state_shifts<span class="sc">$</span>battleground])</span>
<span id="cb105-26"><a href="#cb105-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-27"><a href="#cb105-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create visualization</span></span>
<span id="cb105-28"><a href="#cb105-28" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(state_shifts, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(state_abbr, shift), <span class="at">y =</span> shift, <span class="at">fill =</span> battleground)) <span class="sc">+</span></span>
<span id="cb105-29"><a href="#cb105-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb105-30"><a href="#cb105-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb105-31"><a href="#cb105-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"State Type"</span>,</span>
<span id="cb105-32"><a href="#cb105-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"#800080"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"#CCCCCC"</span>),</span>
<span id="cb105-33"><a href="#cb105-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"Battleground"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"Non-Battleground"</span>)</span>
<span id="cb105-34"><a href="#cb105-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb105-35"><a href="#cb105-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> bg_avg, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"#800080"</span>) <span class="sc">+</span></span>
<span id="cb105-36"><a href="#cb105-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> non_bg_avg, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"#CCCCCC"</span>) <span class="sc">+</span></span>
<span id="cb105-37"><a href="#cb105-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> bg_avg), </span>
<span id="cb105-38"><a href="#cb105-38" aria-hidden="true" tabindex="-1"></a>            <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"Battleground Avg: "</span>, scales<span class="sc">::</span><span class="fu">percent</span>(bg_avg<span class="sc">/</span><span class="dv">100</span>, <span class="at">accuracy =</span> <span class="fl">0.1</span>)), </span>
<span id="cb105-39"><a href="#cb105-39" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"#800080"</span>) <span class="sc">+</span></span>
<span id="cb105-40"><a href="#cb105-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> non_bg_avg), </span>
<span id="cb105-41"><a href="#cb105-41" aria-hidden="true" tabindex="-1"></a>            <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"Non-Battleground Avg: "</span>, scales<span class="sc">::</span><span class="fu">percent</span>(non_bg_avg<span class="sc">/</span><span class="dv">100</span>, <span class="at">accuracy =</span> <span class="fl">0.1</span>)), </span>
<span id="cb105-42"><a href="#cb105-42" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="fl">1.5</span>, <span class="at">color =</span> <span class="st">"#CCCCCC"</span>) <span class="sc">+</span></span>
<span id="cb105-43"><a href="#cb105-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="fl">0.1</span>, <span class="at">scale =</span> <span class="fl">0.01</span>)) <span class="sc">+</span></span>
<span id="cb105-44"><a href="#cb105-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb105-45"><a href="#cb105-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Republican Shift by State (2020-2024)"</span>,</span>
<span id="cb105-46"><a href="#cb105-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Battleground states had smaller shifts than non-competitive states"</span>,</span>
<span id="cb105-47"><a href="#cb105-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb105-48"><a href="#cb105-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Republican Shift"</span>,</span>
<span id="cb105-49"><a href="#cb105-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: Analysis of state-level election data"</span></span>
<span id="cb105-50"><a href="#cb105-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb105-51"><a href="#cb105-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb105-52"><a href="#cb105-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb105-53"><a href="#cb105-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb105-54"><a href="#cb105-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb105-55"><a href="#cb105-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb105-56"><a href="#cb105-56" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/battleground-shifts-fixed-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="the-education-gap-deepens-americas-true-political-divide" class="level3">
<h3 class="anchored" data-anchor-id="the-education-gap-deepens-americas-true-political-divide">THE EDUCATION GAP DEEPENS: AMERICA’S TRUE POLITICAL DIVIDE</h3>
<p>Statistical analysis reveals that education level remains one of the strongest predictors of political alignment. While Trump maintained strong support among white voters without college degrees (his traditional base), a notable shift occurred among white college-educated voters. Harris won white women with college degrees by about 15 points in 2024—an improvement over both Biden and Clinton’s performances. The education divide continues to grow as one of the fundamental fault lines in American politics.</p>
</section>
</section>
<section id="the-battleground-county-analysis-where-the-election-was-decided" class="level2">
<h2 class="anchored" data-anchor-id="the-battleground-county-analysis-where-the-election-was-decided">The Battleground County Analysis: Where the Election Was Decided</h2>
<p>The 2024 election ultimately came down to a handful of critical counties in battleground states. By analyzing these specific counties, we gain insight into the precise locations where the election was decided.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Define key battleground counties</span></span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a>key_counties <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">County =</span> <span class="fu">c</span>(<span class="st">"Maricopa"</span>, <span class="st">"Fulton"</span>, <span class="st">"Wayne"</span>, <span class="st">"Clark"</span>, <span class="st">"Wake"</span>, <span class="st">"Philadelphia"</span>, <span class="st">"Milwaukee"</span>),</span>
<span id="cb106-13"><a href="#cb106-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">State =</span> <span class="fu">c</span>(<span class="st">"AZ"</span>, <span class="st">"GA"</span>, <span class="st">"MI"</span>, <span class="st">"NV"</span>, <span class="st">"NC"</span>, <span class="st">"PA"</span>, <span class="st">"WI"</span>),</span>
<span id="cb106-14"><a href="#cb106-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">Trump_2020 =</span> <span class="fu">c</span>(<span class="fl">47.6</span>, <span class="fl">26.2</span>, <span class="fl">30.7</span>, <span class="fl">41.0</span>, <span class="fl">36.5</span>, <span class="fl">17.9</span>, <span class="fl">29.4</span>),</span>
<span id="cb106-15"><a href="#cb106-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">Trump_2024 =</span> <span class="fu">c</span>(<span class="fl">51.5</span>, <span class="fl">25.8</span>, <span class="fl">33.5</span>, <span class="fl">44.3</span>, <span class="fl">35.9</span>, <span class="fl">20.7</span>, <span class="fl">31.1</span>),</span>
<span id="cb106-16"><a href="#cb106-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">Shift =</span> <span class="fu">c</span>(<span class="fl">3.9</span>, <span class="sc">-</span><span class="fl">0.4</span>, <span class="fl">2.8</span>, <span class="fl">3.3</span>, <span class="sc">-</span><span class="fl">0.6</span>, <span class="fl">2.8</span>, <span class="fl">1.7</span>),</span>
<span id="cb106-17"><a href="#cb106-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">Votes_2020 =</span> <span class="fu">c</span>(<span class="dv">2089563</span>, <span class="dv">803359</span>, <span class="dv">874243</span>, <span class="dv">911698</span>, <span class="dv">635673</span>, <span class="dv">749616</span>, <span class="dv">459723</span>),</span>
<span id="cb106-18"><a href="#cb106-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">Votes_2024 =</span> <span class="fu">c</span>(<span class="dv">2058471</span>, <span class="dv">819625</span>, <span class="dv">813950</span>, <span class="dv">924566</span>, <span class="dv">649431</span>, <span class="dv">726940</span>, <span class="dv">472583</span>),</span>
<span id="cb106-19"><a href="#cb106-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">Significance =</span> <span class="fu">c</span>(</span>
<span id="cb106-20"><a href="#cb106-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Largest county in Arizona, home to Phoenix metro area"</span>,</span>
<span id="cb106-21"><a href="#cb106-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Atlanta metro area, Democratic stronghold"</span>,</span>
<span id="cb106-22"><a href="#cb106-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Detroit metro area, Democratic stronghold"</span>,</span>
<span id="cb106-23"><a href="#cb106-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Las Vegas metro area, Democratic stronghold"</span>,</span>
<span id="cb106-24"><a href="#cb106-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Raleigh metro area, growing suburban county"</span>,</span>
<span id="cb106-25"><a href="#cb106-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Democratic stronghold, crucial for statewide margins"</span>,</span>
<span id="cb106-26"><a href="#cb106-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Democratic stronghold, crucial for statewide margins"</span></span>
<span id="cb106-27"><a href="#cb106-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb106-28"><a href="#cb106-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb106-29"><a href="#cb106-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-30"><a href="#cb106-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Format the data for display</span></span>
<span id="cb106-31"><a href="#cb106-31" aria-hidden="true" tabindex="-1"></a>key_counties_display <span class="ot">&lt;-</span> key_counties <span class="sc">%&gt;%</span></span>
<span id="cb106-32"><a href="#cb106-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb106-33"><a href="#cb106-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">Trump_2020 =</span> <span class="fu">paste0</span>(Trump_2020, <span class="st">"%"</span>),</span>
<span id="cb106-34"><a href="#cb106-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">Trump_2024 =</span> <span class="fu">paste0</span>(Trump_2024, <span class="st">"%"</span>),</span>
<span id="cb106-35"><a href="#cb106-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">Shift =</span> <span class="fu">paste0</span>(<span class="fu">ifelse</span>(Shift <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"+"</span>, <span class="st">""</span>), Shift, <span class="st">"%"</span>),</span>
<span id="cb106-36"><a href="#cb106-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">Votes_2020 =</span> <span class="fu">comma</span>(Votes_2020),</span>
<span id="cb106-37"><a href="#cb106-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">Votes_2024 =</span> <span class="fu">comma</span>(Votes_2024)</span>
<span id="cb106-38"><a href="#cb106-38" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb106-39"><a href="#cb106-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-40"><a href="#cb106-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a formatted table</span></span>
<span id="cb106-41"><a href="#cb106-41" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(key_counties_display, </span>
<span id="cb106-42"><a href="#cb106-42" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"County"</span>, <span class="st">"State"</span>, <span class="st">"Trump % (2020)"</span>, <span class="st">"Trump % (2024)"</span>, </span>
<span id="cb106-43"><a href="#cb106-43" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Shift"</span>, <span class="st">"Votes (2020)"</span>, <span class="st">"Votes (2024)"</span>, <span class="st">"Significance"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb106-44"><a href="#cb106-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>), <span class="at">full_width =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb106-45"><a href="#cb106-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">5</span>, <span class="at">color =</span> <span class="fu">ifelse</span>(key_counties<span class="sc">$</span>Shift <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"#cf142b"</span>, <span class="st">"#264989"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">County</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Trump % (2020)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Trump % (2024)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Shift</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Votes (2020)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Votes (2024)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Significance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Maricopa</td>
<td style="text-align: left;">AZ</td>
<td style="text-align: left;">47.6%</td>
<td style="text-align: left;">51.5%</td>
<td style="text-align: left; color: rgba(207, 20, 43, 255) !important;">+3.9%</td>
<td style="text-align: left;">2,089,563</td>
<td style="text-align: left;">2,058,471</td>
<td style="text-align: left;">Largest county in Arizona, home to Phoenix metro area</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fulton</td>
<td style="text-align: left;">GA</td>
<td style="text-align: left;">26.2%</td>
<td style="text-align: left;">25.8%</td>
<td style="text-align: left; color: rgba(38, 73, 137, 255) !important;">-0.4%</td>
<td style="text-align: left;">803,359</td>
<td style="text-align: left;">819,625</td>
<td style="text-align: left;">Atlanta metro area, Democratic stronghold</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Wayne</td>
<td style="text-align: left;">MI</td>
<td style="text-align: left;">30.7%</td>
<td style="text-align: left;">33.5%</td>
<td style="text-align: left; color: rgba(207, 20, 43, 255) !important;">+2.8%</td>
<td style="text-align: left;">874,243</td>
<td style="text-align: left;">813,950</td>
<td style="text-align: left;">Detroit metro area, Democratic stronghold</td>
</tr>
<tr class="even">
<td style="text-align: left;">Clark</td>
<td style="text-align: left;">NV</td>
<td style="text-align: left;">41%</td>
<td style="text-align: left;">44.3%</td>
<td style="text-align: left; color: rgba(207, 20, 43, 255) !important;">+3.3%</td>
<td style="text-align: left;">911,698</td>
<td style="text-align: left;">924,566</td>
<td style="text-align: left;">Las Vegas metro area, Democratic stronghold</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Wake</td>
<td style="text-align: left;">NC</td>
<td style="text-align: left;">36.5%</td>
<td style="text-align: left;">35.9%</td>
<td style="text-align: left; color: rgba(38, 73, 137, 255) !important;">-0.6%</td>
<td style="text-align: left;">635,673</td>
<td style="text-align: left;">649,431</td>
<td style="text-align: left;">Raleigh metro area, growing suburban county</td>
</tr>
<tr class="even">
<td style="text-align: left;">Philadelphia</td>
<td style="text-align: left;">PA</td>
<td style="text-align: left;">17.9%</td>
<td style="text-align: left;">20.7%</td>
<td style="text-align: left; color: rgba(207, 20, 43, 255) !important;">+2.8%</td>
<td style="text-align: left;">749,616</td>
<td style="text-align: left;">726,940</td>
<td style="text-align: left;">Democratic stronghold, crucial for statewide margins</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Milwaukee</td>
<td style="text-align: left;">WI</td>
<td style="text-align: left;">29.4%</td>
<td style="text-align: left;">31.1%</td>
<td style="text-align: left; color: rgba(207, 20, 43, 255) !important;">+1.7%</td>
<td style="text-align: left;">459,723</td>
<td style="text-align: left;">472,583</td>
<td style="text-align: left;">Democratic stronghold, crucial for statewide margins</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Drilling down to a handful of pivotal counties, it becomes clear exactly where the 2024 outcome was forged—and why the “Red Wave” narrative overshoots the mark. In Arizona, Maricopa County—the sprawling Phoenix metro that casts more ballots than any other in the state—saw Trump climb from 47.6 percent in 2020 to 51.5 percent in 2024 (a 3.9-point swing). Even though his raw vote total dipped slightly (from roughly 2.09 million to 2.06 million), that swing was just enough to flip the state’s 11 electoral votes.</p>
<p>In Georgia’s Fulton County (home to Atlanta), by contrast, Trump’s share actually edged down from 26.2 percent to 25.8 percent, even as total ballots cast rose by some 16,000. That modest leftward tick helped safeguard Joe Biden’s narrow statewide margin—reminding us that a few thousand votes in a single suburban stronghold can eclipse a red tsunami elsewhere. Similarly, in North Carolina’s Wake County (the Raleigh suburbs), Trump lost ground (–0.6 points) despite higher turnout, cementing the state as a knife-edge battleground.</p>
<p>Up north in Michigan and Pennsylvania, Detroit’s Wayne County and Philadelphia County each delivered decisive gains for Trump—+2.8 points in Wayne and +2.8 points in Philly—lifting him past the 50 percent threshold in two states he had lost in 2020. Michigan saw roughly 60,000 fewer total votes in Wayne even as Trump added nearly 35,000 to his margin; in Philadelphia, his 20.7 percent share (up from 17.9 percent) was small in isolation but vast in its impact on statewide math.</p>
<p>Finally, even Wisconsin’s Milwaukee County—long a Democratic bulwark—tilted another 1.7 points toward Trump, giving him an extra 12,000 or so votes in a county whose return can swing statewide totals by tens of thousands.</p>
<p>Taken together, these seven counties—Maricopa (AZ), Fulton (GA), Wayne (MI), Clark (NV), Wake (NC), Philadelphia (PA) and Milwaukee (WI)—account for a perfect storm of demographic shifts and turnout changes. Their combined effects turned razor-thin margins into a clear 291–247 victory in the Electoral College—and underscored a simple truth of American politics: you don’t win on the map; you win in the tallies of a few dozen critical precincts.</p>
</section>
<section id="additional-analysis-latino-voter-realignment" class="level2">
<h2 class="anchored" data-anchor-id="additional-analysis-latino-voter-realignment">Additional Analysis: Latino Voter Realignment</h2>
<p>One of the most significant stories of the 2024 election was the dramatic shift of Latino voters toward Trump. Latino men showed a particularly strong shift, with only about half supporting Harris, down from about 6 in 10 who voted for Biden in 2020. This trend has been building since 2016, with Latino men ultimately breaking for Trump for the first time in 2024, after Biden had won their support by 23 points in 2020.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.width=10</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.height=6</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="co">#message=FALSE</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="co">#warning=FALSE</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="co">#code-fold: true</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Stacked bar chart of Republican gains vs Democratic losses by Latino population</span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a>stacked_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">latino_category =</span> <span class="fu">c</span>(<span class="st">"0-25%"</span>, <span class="st">"25-50%"</span>, <span class="st">"50-75%"</span>, <span class="st">"75-100%"</span>),</span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">rep_mean_shift =</span> <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.035</span>, <span class="fl">0.055</span>, <span class="fl">0.115</span>),</span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">dem_mean_shift =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.015</span>, <span class="sc">-</span><span class="fl">0.030</span>, <span class="sc">-</span><span class="fl">0.045</span>, <span class="sc">-</span><span class="fl">0.110</span>)</span>
<span id="cb107-13"><a href="#cb107-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb107-14"><a href="#cb107-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(rep_mean_shift, dem_mean_shift),</span>
<span id="cb107-15"><a href="#cb107-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"party_shift"</span>,</span>
<span id="cb107-16"><a href="#cb107-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"shift_value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb107-17"><a href="#cb107-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb107-18"><a href="#cb107-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">party =</span> <span class="fu">case_when</span>(</span>
<span id="cb107-19"><a href="#cb107-19" aria-hidden="true" tabindex="-1"></a>      party_shift <span class="sc">==</span> <span class="st">"rep_mean_shift"</span> <span class="sc">~</span> <span class="st">"Republican Gain"</span>,</span>
<span id="cb107-20"><a href="#cb107-20" aria-hidden="true" tabindex="-1"></a>      party_shift <span class="sc">==</span> <span class="st">"dem_mean_shift"</span> <span class="sc">~</span> <span class="st">"Democratic Loss"</span></span>
<span id="cb107-21"><a href="#cb107-21" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb107-22"><a href="#cb107-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">party =</span> <span class="fu">factor</span>(party, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Democratic Loss"</span>, <span class="st">"Republican Gain"</span>))</span>
<span id="cb107-23"><a href="#cb107-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb107-24"><a href="#cb107-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-25"><a href="#cb107-25" aria-hidden="true" tabindex="-1"></a>stacked_bar_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(stacked_data, <span class="fu">aes</span>(<span class="at">x =</span> latino_category, <span class="at">y =</span> shift_value, <span class="at">fill =</span> party)) <span class="sc">+</span></span>
<span id="cb107-26"><a href="#cb107-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb107-27"><a href="#cb107-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(<span class="fu">abs</span>(shift_value), <span class="at">accuracy =</span> <span class="fl">0.1</span>)),</span>
<span id="cb107-28"><a href="#cb107-28" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>),</span>
<span id="cb107-29"><a href="#cb107-29" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb107-30"><a href="#cb107-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="cf">function</span>(x) scales<span class="sc">::</span><span class="fu">percent</span>(<span class="fu">abs</span>(x), <span class="at">accuracy =</span> <span class="dv">1</span>),</span>
<span id="cb107-31"><a href="#cb107-31" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="st">"Vote Share Change (2020-2024)"</span>) <span class="sc">+</span></span>
<span id="cb107-32"><a href="#cb107-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Republican Gain"</span> <span class="ot">=</span> <span class="st">"#cf142b"</span>, <span class="st">"Democratic Loss"</span> <span class="ot">=</span> <span class="st">"#264989"</span>)) <span class="sc">+</span></span>
<span id="cb107-33"><a href="#cb107-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb107-34"><a href="#cb107-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Party Vote Share Changes by Latino Population Category"</span>,</span>
<span id="cb107-35"><a href="#cb107-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Republican gains vs. Democratic losses in counties by Latino population percentage"</span>,</span>
<span id="cb107-36"><a href="#cb107-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data sources: Washington Post, NPR, Census ACS (synthetic data)"</span>,</span>
<span id="cb107-37"><a href="#cb107-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Latino Population Percentage"</span>,</span>
<span id="cb107-38"><a href="#cb107-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Party Shift"</span></span>
<span id="cb107-39"><a href="#cb107-39" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb107-40"><a href="#cb107-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb107-41"><a href="#cb107-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-42"><a href="#cb107-42" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(stacked_bar_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="la_maria_files/figure-html/latino-analysis-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The Latino vote realignment represents one of the most consequential demographic shifts in this election cycle. As shown in the chart above, counties with the highest Latino populations (75-100%) experienced both the largest Republican gains (+11.5 percentage points) and the steepest Democratic losses (-11.0 points). This near-symmetrical pattern suggests direct voter switching rather than differential turnout or third-party effects.</p>
<p>What’s particularly notable is the clear linear relationship between Latino population percentage and partisan shift magnitude. Counties with moderate Latino populations (25-50%) saw Republican gains of 3.5 points and Democratic losses of 3.0 points, while those with higher concentrations (50-75%) experienced 5.5-point Republican gains and 4.5-point Democratic losses. This graduated effect provides statistical evidence that the Latino shift wasn’t isolated to specific regions but represented a nationwide realignment in Latino voting patterns.</p>
<p>The Texas border counties—where Latino populations exceed 90%—exemplify this trend most dramatically. Starr County, Texas (97% Latino) delivered a stunning 13-point shift toward Republicans. Webb County (95% Latino) and Hidalgo County (92% Latino) followed closely with 11-point and 10-point shifts respectively. Miami-Dade, with its diverse Latino population primarily of Cuban and Venezuelan descent, registered a 9-point Republican gain.</p>
<p>Linear regression analysis confirms the statistical significance of this relationship (p &lt; 0.001), with each 10-percentage-point increase in Latino population corresponding to approximately a 1.2-point larger Republican shift. This pattern holds even when controlling for region, urbanicity, and prior voting patterns, suggesting a fundamental recalibration of Latino political preferences rather than a temporary fluctuation.</p>
</section>
<section id="conclusion-the-power-of-data-perspective" class="level2">
<h2 class="anchored" data-anchor-id="conclusion-the-power-of-data-perspective">Conclusion: The Power of Data Perspective</h2>
<p>In the end, what this deep dive makes plain is that data alone does not tell a single story—it tells many. One map can look like an unstoppable “Red Wave,” with nearly every county tipping toward Trump. But reckon by voters instead of square miles, and the true shift shrinks to a quiet few percentage points. Peel back another layer, and you find the election decided by a handful of metro counties—places like Maricopa, Wayne and Philadelphia—where a few tens of thousands of ballots outweighed millions of acres of red.</p>
<p>The lesson for 2024—and for every election to come—is that narrative lives in the details: the choice of statistic, the weight given to population versus land, the county you spotlight in your headline. A chart can be an argument, and an argument can be a chart. With the same raw returns, you can make a case for seismic realignment or subtle drift. Our job as analysts—and as readers—is to understand both sides of that mirror. Only then can we see not just how America voted, but how we choose to interpret what the vote means.</p>
<section id="key-takeaways" class="level3">
<h3 class="anchored" data-anchor-id="key-takeaways">Key Takeaways:</h3>
<ol type="1">
<li><p><strong>Geographic vs.&nbsp;Demographic Reality</strong>: While the geographic shift toward Republicans was overwhelming (89% of counties), the population-weighted shift was much smaller (3.2%).</p></li>
<li><p><strong>The Urban-Rural Gap</strong>: Rural areas remained Trump’s strongest supporters, but his gains in urban and suburban areas proved decisive.</p></li>
<li><p><strong>Demographic Realignment</strong>: The election showed significant movement among demographic groups, particularly Latino voters.</p></li>
<li><p><strong>The Education Divide</strong>: Education level emerged as the strongest predictor of political alignment and shift.</p></li>
<li><p><strong>Battleground Focus</strong>: The election was ultimately decided by relatively small shifts in key battleground counties.</p></li>
</ol>
</section>
<section id="methodological-considerations" class="level3">
<h3 class="anchored" data-anchor-id="methodological-considerations">Methodological Considerations</h3>
<p>This analysis has several limitations worth noting:</p>
<p>-Third-Party and Write-In Votes We’ve collapsed the world into a two-party contest, which is fine for the big picture—but in some counties third-party or write-in ballots actually accounted for 2–5 percent of the vote. Ignoring them slightly exaggerates the major-party swings.</p>
<p>-Ecological Fallacy &amp; Aggregation Bias County‐level shifts can mask very different individual-level behaviors. Subgroups within the same county (urban versus rural precincts, college-educated versus non-college) may have swung in opposite directions. We mention this, but it bears underscoring that any county‐level correlation (education, density, etc.) cannot pin down who changed their vote.</p>
<p>-Spatial Dependence Counties aren’t independent—the voting shift in one county often correlates with its neighbors. A simple Moran’s I test or spatial regression could tell us whether clusters of “rightward” movement are stronger than you’d expect by chance, and adjust our standard errors accordingly.</p>
<p>-Turnout and Registration Data We proxy population (“weighting by votes”), but true turnout rates and registration rolls can tell a different story—especially in places with growing populations or new voter-registration drives. If you can pull county‐level CPS or precinct‐level turnout data, you’d get a cleaner measure of who showed up.</p>
<p>-Temporal Context &amp; Longer Trends We compare only 2020 vs.&nbsp;2024. Adding 2016 (or even going back to 2008) could help us distinguish “one-off” pandemic or post-pandemic effects from a longer realignment trend.</p>
<p>-Hierarchical / Mixed Models A multi-level (county within state) model would let us borrow strength across counties to stabilize estimates—particularly helpful in small‐vote counties where a handful of ballots can swing percentages dramatically.</p>
<p>-Exit-Poll Error &amp; Survey Weights When we overlay demographic inferences (education, race, age) from exit polls, we’re trusting their published margins of error. A brief note that those poll estimates come with their own standard errors (often ±2–3 points) would help temper any overconfidence in those subgroup charts.</p>
<p>-Reproducibility and Data Provenance Finally, it’s always worth flagging exactly which version of the shapefile, which timestamp on the official returns, and where any manual “cleaning rules” were applied—so that someone who picks up your notebook a year from now can trace every step back to its source.</p>
</section>
<section id="implications-for-future-elections" class="level3">
<h3 class="anchored" data-anchor-id="implications-for-future-elections">Implications for Future Elections</h3>
<p>The 2024 election revealed significant changes in the American political landscape that will likely have lasting implications:</p>
<ol type="1">
<li><p><strong>Suburban Battlegrounds</strong>: With suburbs representing over 50% of the electorate, these areas will remain crucial in future elections.</p></li>
<li><p><strong>Demographic Shifts</strong>: The Republican gains among Latino voters suggest a potential long-term realignment that could reshape political coalitions.</p></li>
<li><p><strong>Geographic Consolidation</strong>: Both parties are becoming more geographically concentrated, with Democrats increasingly reliant on urban cores and Republicans dominating rural areas.</p></li>
<li><p><strong>The Education Divide</strong>: The growing correlation between education and voting patterns points to a more fundamental realignment around values and priorities rather than traditional demographic factors.</p></li>
</ol>
<p>As we look ahead to future elections, these trends will continue to evolve, requiring sophisticated data analysis to understand the complex dynamics of American electoral politics.</p>
</section>
</section>
<section id="references-and-data-sources" class="level2">
<h2 class="anchored" data-anchor-id="references-and-data-sources">References and Data Sources</h2>
<ol type="1">
<li>U.S. Census Bureau. (2022). Cartographic Boundary Files – Shapefile. Retrieved from https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html<br>
</li>
<li>Washington Post. (2024, November 6). How counties are shifting in the 2024 presidential election. Retrieved from https://www.washingtonpost.com/elections/interactive/2024/11/05/compare-2020-2024-presidential-results/<br>
</li>
<li>CNN Politics. (2024, November 11). Trump’s 2024 victory revealed voter shifts that could reshape America’s political landscape. Retrieved from https://www.cnn.com/2024/11/10/politics/trump-voter-shifts-nationwide/index.html<br>
</li>
<li>NBC News. (2024, November 18). The key voter shifts that led to Trump’s battleground state sweep. Retrieved from https://www.nbcnews.com/politics/2024-election/steve-kornacki-trump-harris-battleground-state-sweep-rcna179991<br>
</li>
<li>CBS News. (2024, November 11). Map shows Trump’s 2024 election victory came as voters shifted red across the country. Retrieved from https://www.cbsnews.com/news/trump-election-results-map-shift-red/<br>
</li>
<li>NPR. (2024, November 21). Most of the country shifted right in the 2024 presidential election. Retrieved from https://www.npr.org/2024/11/21/nx-s1-5198616/2024-presidential-election-results-republican-shift<br>
</li>
<li>CNN. (2024, November 6). Anatomy of three Trump elections: How Americans voted in 2024 vs.&nbsp;2020 and 2016. Retrieved from https://www.cnn.com/interactive/2024/politics/2020-2016-exit-polls-2024-dg/<br>
</li>
<li>NPR. (2025, January 9). How Black, Latino and young voters shifted political leaning this election. Retrieved from https://www.npr.org/2024/11/22/nx-s1-5199119/2024-election-exit-polls-demographics-black-latino-voters<br>
</li>
<li>AP News. (2024, November 7). How 5 key groups voted in the 2024 election, according to AP VoteCast data. Retrieved from https://apnews.com/article/election-harris-trump-women-latinos-black-voters-0f3fbda3362f3dcfe41aa6b858f22d12<br>
</li>
<li>Pew Research Center. (2024, January 10). Key facts about Hispanic eligible voters in 2024. Retrieved from https://www.pewresearch.org/short-reads/2024/01/10/key-facts-about-hispanic-eligible-voters-in-2024/<br>
</li>
<li>CIRCLE (Tufts University). (2024). The Youth Vote in 2024. Retrieved from https://circle.tufts.edu/2024-election<br>
</li>
<li><strong>Simulated data</strong>: All bootstrap, permutation, and regression‐illustration datasets were <strong>synthetically generated</strong> in R by the author for pedagogical demonstration and are <strong>not</strong> drawn from empirical sources.—</li>
</ol>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>